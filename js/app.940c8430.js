(function(t){function e(e){for(var n,o,r=e[0],c=e[1],l=e[2],u=0,h=[];u<r.length;u++)o=r[u],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&h.push(a[o][0]),a[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);d&&d(e);while(h.length)h.shift()();return s.push.apply(s,l||[]),i()}function i(){for(var t,e=0;e<s.length;e++){for(var i=s[e],n=!0,r=1;r<i.length;r++){var c=i[r];0!==a[c]&&(n=!1)}n&&(s.splice(e--,1),t=o(o.s=i[0]))}return t}var n={},a={app:0},s=[];function o(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=t,o.c=n,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(i,n,function(e){return t[e]}.bind(null,n));return i},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var d=c;s.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"30ff":function(t,e,i){},4036:function(t,e,i){"use strict";var n=i("30ff"),a=i.n(n);a.a},"471d":function(t,e,i){},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var n=i("2b0e"),a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("router-view")],1)},s=[],o={name:"app"},r=o,c=i("2877"),l=Object(c["a"])(r,a,s,!1,null,null,null),d=l.exports,u=i("8c4f"),h=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("main",[i("form",{staticClass:"form"},[i("div",{staticClass:"form__cover"}),i("div",{staticClass:"form__loader"},[i("div",{staticClass:"spinner active"},[i("svg",{staticClass:"spinner__circular",attrs:{viewBox:"25 25 50 50"}},[i("circle",{staticClass:"spinner__path",attrs:{cx:"50",cy:"50",r:"20",fill:"none","stroke-width":"4","stroke-miterlimit":"10"}})])])]),i("div",{staticClass:"form__content"},[i("h1",[t._v("登录/注册")]),i("div",{staticClass:"styled-input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.form.username,expression:"form.username"}],staticClass:"styled-input__input",attrs:{type:"text"},domProps:{value:t.form.username},on:{input:function(e){e.target.composing||t.$set(t.form,"username",e.target.value)}}}),t._m(0),i("div",{staticClass:"styled-input__circle"})]),i("div",{staticClass:"styled-input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password,expression:"form.password"}],staticClass:"styled-input__input",attrs:{type:"password"},domProps:{value:t.form.password},on:{input:function(e){e.target.composing||t.$set(t.form,"password",e.target.value)}}}),t._m(1),i("div",{staticClass:"styled-input__circle"})]),i("div",{staticClass:"radio"},[i("van-radio-group",{attrs:{direction:"horizontal"},model:{value:t.isShow,callback:function(e){t.isShow=e},expression:"isShow"}},[i("van-radio",{attrs:{name:"false","checked-color":"#FFB600"}},[t._v("控制端")]),i("van-radio",{attrs:{name:"true","checked-color":"#FFB600"}},[t._v("显示端")])],1)],1),i("div",{staticClass:"buttonContainer"},[i("button",{staticClass:"styled-button",attrs:{type:"button"},on:{click:function(e){return t.login()}}},[t._m(2)]),i("button",{staticClass:"styled-button",attrs:{type:"button"},on:{click:function(e){return t.register()}}},[t._m(3)])])])])])])},f=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"styled-input__placeholder"},[i("span",{staticClass:"styled-input__placeholder-text"},[t._v("Username")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"styled-input__placeholder"},[i("span",{staticClass:"styled-input__placeholder-text"},[t._v("Password")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{staticClass:"styled-button__real-text-holder"},[i("span",{staticClass:"styled-button__real-text"},[t._v("Login")]),i("span",{staticClass:"styled-button__moving-block face"},[i("span",{staticClass:"styled-button__text-holder"},[i("span",{staticClass:"styled-button__text"},[t._v("Login")])])]),i("span",{staticClass:"styled-button__moving-block back"},[i("span",{staticClass:"styled-button__text-holder"},[i("span",{staticClass:"styled-button__text"},[t._v("Login")])])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{staticClass:"styled-button__real-text-holder"},[i("span",{staticClass:"styled-button__real-text"},[t._v("Register")]),i("span",{staticClass:"styled-button__moving-block face"},[i("span",{staticClass:"styled-button__text-holder"},[i("span",{staticClass:"styled-button__text"},[t._v("Register")])])]),i("span",{staticClass:"styled-button__moving-block back"},[i("span",{staticClass:"styled-button__text-holder"},[i("span",{staticClass:"styled-button__text"},[t._v("Register")])])])])}],p=(i("a4d3"),i("e01a"),i("d28b"),i("4160"),i("fb6a"),i("d3b7"),i("3ca3"),i("159b"),i("ddb0"),i("96cf"),i("1da1")),m={data:function(){return{form:{username:"",password:""},isShow:"false"}},mounted:function(){var t=document.querySelectorAll(".styled-input__placeholder-text"),e=document.querySelectorAll(".styled-input__input");function i(t,e){var i=e?"add":"remove",n=t.querySelectorAll(".letter");n=[].slice.call(n,0),e||(n=n.reverse()),n.forEach((function(n,a){setTimeout((function(){var a=t.classList.contains("filled");e&&!a||!e&&a||n.classList[i]("active")}),50*a)}))}t.forEach((function(t){for(var e=t.innerText,i="",n=Array.isArray(e),a=n?e:e[Symbol.iterator](),s=0;;){var o;if(n){if(s>=a.length)break;o=a[s++]}else{if(s=a.next(),s.done)break;o=s.value}var r=o;e||(e="&nbsp;"),i+='<span class="letter">'+r+"</span>"}t.innerHTML=i})),e.forEach((function(t){var e=t.parentNode;t.addEventListener("focus",(function(){e.classList.add("filled"),i(e,!0)}),!1),t.addEventListener("blur",(function(){t.value.length||(e.classList.remove("filled"),i(e,!1))}),!1)})),setTimeout((function(){document.body.classList.add("on-start")}),100),setTimeout((function(){document.body.classList.add("document-loaded")}),1800)},methods:{login:function(){var t=Object(p["a"])(regeneratorRuntime.mark((function t(){var e,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=/\w{3,10}/,i="",""===this.form.username?i+="用户名不能为空\n":e.test(this.form.username)||(i+="用户名应为3到10位字母或数字\n"),""===this.form.password?i+="密码不能为空\n":e.test(this.form.password)||(i+="密码应为3到10位字母或数字\n"),console.log(this.form),!i){t.next=7;break}return t.abrupt("return",this.$toast.fail(i));case 7:window.sessionStorage.setItem("userId","1"),"true"===this.isShow?this.$router.push("/show"):this.$router.push("/home");case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),register:function(){var t=/\w{3,10}/,e="";if(""===this.form.username?e+="用户名不能为空\n":t.test(this.form.username)||(e+="用户名应为3到10位字母或数字\n"),""===this.form.password?e+="密码不能为空\n":t.test(this.form.password)||(e+="密码应为3到10位字母或数字\n"),e)return this.$toast.fail(e);this.$toast.success("注册成功!\n请登录"),this.form.username="",this.form.password=""}}},v=m,g=(i("7d57"),Object(c["a"])(v,h,f,!1,null,null,null)),w=g.exports,b=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},_=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{attrs:{id:"modelView"}})])}],y=(i("c975"),i("b0c0"),i("b64b"),i("5a89")),x=i("113e"),C=i("ef20"),k=i("b9d8"),S=i("34ad"),E={name:"modelView",data:function(){return{container:null,stats:null,clock:null,gui:null,mixer:null,actions:null,activeAction:null,previousAction:null,camera:null,scene:null,renderer:null,mesh:null,model:null,face:null,api:{state:"Walking"}}},methods:{init:function(){this.container=document.getElementById("modelView"),this.camera=new y["U"](45,window.innerWidth/window.innerHeight,.25,100),this.camera.position.set(0,3,-10),this.camera.lookAt(new y["ob"](0,2,0)),this.scene=new y["eb"],this.scene.background=new y["i"](14737632),this.scene.fog=new y["m"](14737632,20,100),this.clock=new y["h"];var t=new y["q"](16777215,4473924);t.position.set(0,20,0),this.scene.add(t),t=new y["j"](16777215),t.position.set(0,20,10),this.scene.add(t);var e=new y["J"](new y["V"](2e3,2e3),new y["L"]({color:10066329,depthWrite:!1}));e.rotation.x=-Math.PI/2,this.scene.add(e);var i=new y["o"](200,40,0,0);i.material.opacity=.2,i.material.transparent=!0,this.scene.add(i);var n=new S["a"],a=this;n.load("./static/three/RobotExpressive/RobotExpressive.glb",(function(t){a.model=t.scene,a.scene.add(a.model),a.createGUI(a.model,t.animations)}),void 0,(function(t){window.console.error(t)})),this.renderer=new y["qb"]({antialias:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(window.innerWidth,window.innerHeight),this.renderer.outputEncoding=y["rb"],this.container.appendChild(this.renderer.domElement),window.addEventListener("resize",this.onWindowResize,!1),this.stats=new C["a"],this.container.appendChild(this.stats.dom)},animate:function(){var t=this.clock.getDelta();this.mixer&&this.mixer.update(t),requestAnimationFrame(this.animate),this.renderer.render(this.scene,this.camera),this.stats.update()},createGUI:function(t,e){var i=["Idle","Walking","Running","Dance","Death","Sitting","Standing"],n=["Jump","Yes","No","Wave","Punch","ThumbsUp"];this.gui=new k["a"],this.mixer=new y["b"](t),this.actions={};for(var a=0;a<e.length;a++){var s=e[a],o=this.mixer.clipAction(s);this.actions[s.name]=o,(n.indexOf(s.name)>=0||i.indexOf(s.name)>=4)&&(o.clampWhenFinished=!0,o.loop=y["F"])}var r=this.gui.addFolder("States"),c=r.add(this.api,"state").options(i);c.onChange((function(){d.fadeToAction(d.api.state,.5)})),r.open();var l=this.gui.addFolder("Emotes"),d=this;function u(t){d.api[t]=function(){d.fadeToAction(t,.2),d.mixer.addEventListener("finished",h)},l.add(d.api,t)}function h(){d.mixer.removeEventListener("finished",h),d.fadeToAction(d.api.state,.2)}for(var f=0;f<n.length;f++)u(n[f]);l.open(),this.face=this.model.getObjectByName("Head_2");for(var p=Object.keys(this.face.morphTargetDictionary),m=this.gui.addFolder("Expressions"),v=0;a<p.length;v++)m.add(this.face.morphTargetInfluences,v,0,1,.01).name(p[v]);this.activeAction=this.actions["Walking"],this.activeAction.play(),m.open()},fadeToAction:function(t,e){this.previousAction=this.activeAction,this.activeAction=this.actions[t],this.previousAction!==this.activeAction&&this.previousAction.fadeOut(e),this.activeAction.reset().setEffectiveTimeScale(1).setEffectiveWeight(1).fadeIn(e).play()},onWindowResize:function(){this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,window.innerHeight)}},mounted:function(){if(x["a"].isWebGLAvailable())this.init(),this.animate();else{var t=x["a"].getWebGLErrorMessage();document.getElementById("container").appendChild(t)}},destroyed:function(){cancelAnimationFrame(this.animate),console.log("aaaa")}},T=E,A=(i("4036"),Object(c["a"])(T,b,_,!1,null,"f70e2e40",null)),D=A.exports,O=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"home"}},[i("van-nav-bar",{attrs:{title:"","right-text":"退出登录"},on:{"click-right":t.logout}}),i("div",{staticClass:"buttonsdiv"},[i("router-link",{attrs:{to:"/chat"}},[i("van-button",{attrs:{type:"primary"}},[t._v("语音聊天模式"),i("van-icon",{attrs:{name:"chat-o",size:"25"}})],1)],1),i("router-link",{attrs:{to:"/notice"}},[i("van-button",{attrs:{type:"primary"}},[t._v("设置行程提醒"),i("van-icon",{attrs:{name:"bulb-o",size:"25"}})],1)],1),i("router-link",{attrs:{to:"/image"}},[i("van-button",{attrs:{type:"primary"}},[t._v("设置贴图"),i("van-icon",{attrs:{name:"brush-o",size:"25"}})],1)],1),i("router-link",{attrs:{to:"/help"}},[i("van-button",{attrs:{type:"primary"}},[t._v("帮助")])],1)],1)],1)},$=[],j={methods:{logout:function(){window.sessionStorage.clear(),this.$router.push("/login")}}},W=j,P=(i("6792"),Object(c["a"])(W,O,$,!1,null,"325c4d6a",null)),L=P.exports,R=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"content"}},[i("van-nav-bar",{attrs:{fixed:"",title:"","left-text":"返回","right-text":"退出登录","left-arrow":""},on:{"click-left":t.goBack,"click-right":t.logout}}),i("router-view",{attrs:{id:"inContent"}})],1)},H=[],I={methods:{goBack:function(){window.history.length>1?this.$router.go(-1):this.$router.push("/home")},logout:function(){window.sessionStorage.clear(),this.$router.push("/login")}}},q=I,B=(i("cb67"),Object(c["a"])(q,R,H,!1,null,"c193ef4e",null)),F=B.exports,M=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"add"},[i("router-link",{attrs:{to:"/noticeAdd"}},[i("van-icon",{attrs:{name:"plus"}})],1)],1),i("van-pull-refresh",{on:{refresh:t.onRefresh},model:{value:t.isLoading,callback:function(e){t.isLoading=e},expression:"isLoading"}},[i("van-swipe-cell",{attrs:{"before-close":t.beforeClose},scopedSlots:t._u([{key:"right",fn:function(){return[i("van-button",{staticClass:"delete-button",attrs:{square:"",text:"删除",type:"danger"}})]},proxy:!0}])},[i("div",{staticClass:"notice-card"},[i("div",{staticClass:"card-left"},[i("p",[t._v("三月")]),i("p",{staticClass:"day"},[t._v("27")]),i("p",[t._v("周五")])]),i("div",{staticClass:"card-right"},[i("p",{staticClass:"notice-content"},[t._v("开会202室,开会202室,开会202室")]),i("p",{staticClass:"notice-time"},[t._v("7:00-14:00")])])])]),i("van-swipe-cell",{scopedSlots:t._u([{key:"right",fn:function(){return[i("van-button",{staticClass:"delete-button",attrs:{square:"",text:"删除",type:"danger"}})]},proxy:!0}])},[i("div",{staticClass:"notice-card active"},[i("div",{staticClass:"card-left"},[i("p",[t._v("三月")]),i("p",{staticClass:"day"},[t._v("27")]),i("p",[t._v("周五")])]),i("div",{staticClass:"card-right"},[i("p",{staticClass:"notice-content"},[t._v("开会202室,开会202室,开会202室")]),i("p",{staticClass:"notice-time"},[t._v("7:00-14:00")])])])]),i("van-swipe-cell",{scopedSlots:t._u([{key:"right",fn:function(){return[i("van-button",{staticClass:"delete-button",attrs:{square:"",text:"删除",type:"danger"}})]},proxy:!0}])},[i("div",{staticClass:"notice-card active"},[i("div",{staticClass:"card-left"},[i("p",[t._v("三月")]),i("p",{staticClass:"day"},[t._v("27")]),i("p",[t._v("周五")])]),i("div",{staticClass:"card-right"},[i("p",{staticClass:"notice-content"},[t._v("开会202室,开会202室,开会202室")]),i("p",{staticClass:"notice-time"},[t._v("7:00-14:00")])])])]),i("van-swipe-cell",{scopedSlots:t._u([{key:"right",fn:function(){return[i("van-button",{staticClass:"delete-button",attrs:{square:"",text:"删除",type:"danger"}})]},proxy:!0}])},[i("div",{staticClass:"notice-card active"},[i("div",{staticClass:"card-left"},[i("p",[t._v("三月")]),i("p",{staticClass:"day"},[t._v("27")]),i("p",[t._v("周五")])]),i("div",{staticClass:"card-right"},[i("p",{staticClass:"notice-content"},[t._v("开会202室,开会202室,开会202室")]),i("p",{staticClass:"notice-time"},[t._v("7:00-14:00")])])])]),i("van-swipe-cell",{scopedSlots:t._u([{key:"right",fn:function(){return[i("van-button",{staticClass:"delete-button",attrs:{square:"",text:"删除",type:"danger"}})]},proxy:!0}])},[i("div",{staticClass:"notice-card active"},[i("div",{staticClass:"card-left"},[i("p",[t._v("三月")]),i("p",{staticClass:"day"},[t._v("27")]),i("p",[t._v("周五")])]),i("div",{staticClass:"card-right"},[i("p",{staticClass:"notice-content"},[t._v("开会202室,开会202室,开会202室")]),i("p",{staticClass:"notice-time"},[t._v("7:00-14:00")])])])]),i("van-swipe-cell",{scopedSlots:t._u([{key:"right",fn:function(){return[i("van-button",{staticClass:"delete-button",attrs:{square:"",text:"删除",type:"danger"}})]},proxy:!0}])},[i("div",{staticClass:"notice-card active"},[i("div",{staticClass:"card-left"},[i("p",[t._v("三月")]),i("p",{staticClass:"day"},[t._v("27")]),i("p",[t._v("周五")])]),i("div",{staticClass:"card-right"},[i("p",{staticClass:"notice-content"},[t._v("开会202室,开会202室,开会202室")]),i("p",{staticClass:"notice-time"},[t._v("7:00-14:00")])])])]),i("van-swipe-cell",{scopedSlots:t._u([{key:"right",fn:function(){return[i("van-button",{staticClass:"delete-button",attrs:{square:"",text:"删除",type:"danger"}})]},proxy:!0}])},[i("div",{staticClass:"notice-card active"},[i("div",{staticClass:"card-left"},[i("p",[t._v("三月")]),i("p",{staticClass:"day"},[t._v("27")]),i("p",[t._v("周五")])]),i("div",{staticClass:"card-right"},[i("p",{staticClass:"notice-content"},[t._v("开会202室,开会202室,开会202室")]),i("p",{staticClass:"notice-time"},[t._v("7:00-14:00")])])])])],1)],1)},z=[],U={data:function(){return{isLoading:!1,card:{month:3,date:27,day:5,content:"开会202室",time:"7:00-14:00"}}},methods:{getNotice:function(){var t=Object(p["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}(),onRefresh:function(){this.$toast("刷新成功"),this.isLoading=!1},beforeClose:function(t){var e=this,i=t.position,n=t.instance;switch(i){case"left":case"cell":case"outside":n.close();break;case"right":this.$dialog.confirm({message:"确定删除吗？"}).then((function(){n.close(),e.$notify({type:"success",message:"删除成功"})})).catch((function(){}));break}}}},N=U,G=(i("7911"),Object(c["a"])(N,M,z,!1,null,"420896fc",null)),V=G.exports,Y=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("van-form",{on:{submit:t.onSubmit}},[i("van-calendar",{style:{height:"300px"},attrs:{title:"选择行程日期",poppable:!1,"show-confirm":!1,"row-height":35},on:{select:t.onDateConfirm}}),i("van-field",{attrs:{readonly:"",clickable:"",name:"datetimePicker",value:t.form.time,label:"时间选择",placeholder:"点击选择时间"},on:{click:function(e){t.showTimePicker=!0}}}),i("van-popup",{attrs:{position:"bottom"},model:{value:t.showTimePicker,callback:function(e){t.showTimePicker=e},expression:"showTimePicker"}},[i("van-datetime-picker",{attrs:{type:"time"},on:{confirm:t.onTimeConfirm,cancel:function(e){t.showTimePicker=!1}}})],1),i("van-field",{attrs:{readonly:"",clickable:"",name:"datetimePicker",value:t.form.noticeTime,label:"提醒时间",placeholder:"点击选择提醒时间"},on:{click:function(e){t.showDatetimePicker=!0}}}),i("van-popup",{attrs:{position:"bottom"},model:{value:t.showDatetimePicker,callback:function(e){t.showDatetimePicker=e},expression:"showDatetimePicker"}},[i("van-datetime-picker",{attrs:{type:"datetime","min-date":t.minDate,"max-date":t.maxDate},on:{confirm:t.onDatetimeConfirm,cancel:function(e){t.showDatetimePicker=!1}},model:{value:t.happenTime,callback:function(e){t.happenTime=e},expression:"happenTime"}})],1),i("van-field",{attrs:{name:"内容",label:"内容",rules:[{required:!0,message:"请填写提醒内容"}]},model:{value:t.form.content,callback:function(e){t.$set(t.form,"content",e)},expression:"form.content"}}),i("div",{staticStyle:{margin:"16px"}},[i("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit"}},[t._v("提交")])],1)],1)],1)},J=[],Q=(i("99af"),i("ac1f"),i("1276"),i("4478")),Z=i("2909"),X={data:function(){return{value:"",showTimePicker:!1,showDatetimePicker:!1,form:{date:"",time:"",noticeTime:"",content:""},minDate:new Date(2020,1,1),maxDate:new Date(2025,10,1),show:!1}},created:function(){var t=new Date;this.form.date=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate(),window.console.log(this.form.date)},computed:{happenTime:{get:function(){var t=this.form.date.split("-");t[1]--;var e=this.form.time.split(":");return window.console.log(Object(Q["a"])(Date,Object(Z["a"])(t).concat(Object(Z["a"])(e)))),Object(Q["a"])(Date,Object(Z["a"])(t).concat(Object(Z["a"])(e)))},set:function(){}}},methods:{onSubmit:function(){var t=this;window.console.log("submit",this.form),this.$notify({type:"success",message:"添加成功"}),setTimeout((function(){t.$router.go(-1)}),1e3)},onDateConfirm:function(t){this.form.date=this.formatDate(t)},formatDate:function(t){return"".concat(t.getFullYear(),"-").concat(t.getMonth()+1,"-").concat(t.getDate())},onTimeConfirm:function(t){this.form.time=t,this.showTimePicker=!1},formatDateTime:function(t){return"".concat(t.getFullYear(),"-").concat(t.getMonth()+1,"-").concat(t.getDate()," ").concat(t.getHours()<10?"0"+t.getHours():t.getHours(),":").concat(t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes())},onDatetimeConfirm:function(t){this.form.noticeTime=this.formatDateTime(t),this.showDatetimePicker=!1}}},K=X,tt=(i("e410"),Object(c["a"])(K,Y,J,!1,null,null,null)),et=tt.exports,it=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("van-form",{on:{submit:t.onSubmit}},[i("van-field",{attrs:{name:"uploader",label:"文件上传"},scopedSlots:t._u([{key:"input",fn:function(){return[i("van-uploader",{attrs:{"max-count":1,"after-read":t.afterRead},model:{value:t.form.fileList,callback:function(e){t.$set(t.form,"fileList",e)},expression:"form.fileList"}})]},proxy:!0}])}),i("div",{staticStyle:{margin:"16px"}},[i("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit"}},[t._v("提交")]),i("van-button",{attrs:{round:"",block:"",type:"info"},on:{click:t.del}},[t._v("关闭贴图")])],1)],1)],1)},nt=[],at={data:function(){return{form:{fileList:[]}}},methods:{onSubmit:function(){this.$notify({type:"success",message:"添加成功"}),setTimeout(this.$router.go(-1),5e3)},afterRead:function(t){t.status="uploading",t.message="上传中...",setTimeout((function(){t.status="failed",t.message="上传失败"}),1e3)},del:function(){}}},st=at,ot=(i("c77f"),Object(c["a"])(st,it,nt,!1,null,null,null)),rt=ot.exports,ct=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"help"}},[t._v(" hhhh ")])},lt=[],dt={},ut=dt,ht=Object(c["a"])(ut,ct,lt,!1,null,"20ddaa06",null),ft=ht.exports,pt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"c-ars"}},[i("van-button",{attrs:{id:"microphone",size:"large",color:"linear-gradient(to right, #4bb0ff, #6149f6)"},on:{touchstart:function(e){return e.preventDefault(),t.startRecorder(e)},touchend:function(e){return e.preventDefault(),t.endRecorder(e)}}},[t._v("点击说话")]),t._m(0),t._m(1)],1)},mt=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"pd recpower"},[i("div",{staticStyle:{height:"40px",width:"300px",background:"#999",position:"relative"}},[i("div",{staticClass:"recpowerx",staticStyle:{height:"40px",background:"#0B1",position:"absolute"}}),i("div",{staticClass:"recpowert",staticStyle:{"padding-left":"50px","line-height":"40px",position:"relative"}})])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"pd waveBox"},[i("div",{staticClass:"recwave",staticStyle:{height:"100px",width:"300px",border:"1px solid #ccc","box-sizing":"border-box",display:"inline-block"}})])}],vt=(i("2b3d"),i("e2cc")),gt=i.n(vt),wt=(i("604a"),{data:function(){return{userId:1,client_id:"lOQ5dD9hdxO4fYSpZC5ag9k7",client_secret:"cEfW9QHZsnD0wivPHqwU6FDELSG4WjUu",baiduToken:null,rec:null,wave:null,recBlob:null,dialogInt:null}},created:function(){this.getBaiduToken()},methods:{getBaiduToken:function(){var t=Object(p["a"])(regeneratorRuntime.mark((function t(){var e,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$http.post("/getBaidu/oauth/2.0/token?grant_type=client_credentials&client_id=".concat(this.client_id,"&client_secret=").concat(this.client_secret));case 2:e=t.sent,i=e.data,this.baiduToken=i.access_token;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),startRecorder:function(){this.recOpen(),this.recStart()},endRecorder:function(){this.recStop(),this.recClose()},recOpen:function(){this.rec=null,this.wave=null,this.recBlob=null;var t=this,e=gt()({type:"mp3",sampleRate:16e3,bitRate:16,onProcess:function(e,i,n,a){document.querySelector(".recpowerx").style.width=i+"%",document.querySelector(".recpowert").innerText=n+" / "+i,t.wave.input(e[e.length-1],i,a)}});this.createDelayDialog(),e.open((function(){t.dialogCancel(),t.rec=e,t.wave=gt.a.FrequencyHistogramView({elem:".recwave"}),t.reclog("已打开录音，可以点击录制开始录音了",2)}),(function(e,i){t.dialogCancel(),t.reclog((i?"UserNotAllow，":"")+"打开录音失败："+e,1)})),window.waitDialogClick=function(){t.dialogCancel(),t.reclog("打开失败：权限请求被忽略，<span style='color:#f00'>用户主动点击的弹窗</span>",1)}},recClose:function(){this.rec?(this.rec.close(),this.reclog("已关闭")):this.reclog("未打开录音",1)},recStart:function(){this.rec&&gt.a.IsOpen()?(this.recBlob=null,this.rec.start(),this.reclog("已开始录音...")):this.reclog("未打开录音",1)},recStop:function(){if(this.rec&&gt.a.IsOpen()){var t=this;this.rec.stop((function(e,i){window.console.log(e,(window.URL||window.webkitURL).createObjectURL(e),"时长:"+i+"ms"),t.recBlob=e,t.reclog("已录制mp3："+i+"ms "+e.size+"字节，可以点击播放、上传了",2)}),(function(e){t.reclog("录音失败:"+e,1)}))}else this.reclog("未打开录音",1)},showDialog:function(){if(/mobile/i.test(navigator.userAgent)){this.dialogCancel();var t=document.createElement("div");document.body.appendChild(t),t.innerHTML='<div class="waitDialog" style="z-index:99999;width:100%;height:100%;top:0;left:0;position:fixed;background:rgba(0,0,0,0.3);"><div style="display:flex;height:100%;align-items:center;"><div style="flex:1;"></div><div style="width:240px;background:#fff;padding:15px 20px;border-radius: 10px;"><div style="padding-bottom:10px;">录音功能需要麦克风权限，请允许；如果未看到任何请求，请点击忽略~</div><div style="text-align:center;"><a onclick="waitDialogClick()" style="color:#0B1">忽略</a></div></div><div style="flex:1;"></div></div></div>'}},createDelayDialog:function(){var t=this;this.dialogInt=setTimeout((function(){t.showDialog()}),8e3)},dialogCancel:function(){clearTimeout(this.dialogInt);for(var t=document.querySelectorAll(".waitDialog"),e=0;e<t.length;e++)t[e].parentNode.removeChild(t[e])},reclog:function(t,e){var i=new Date,n=("0"+i.getHours()).substr(-2)+":"+("0"+i.getMinutes()).substr(-2)+":"+("0"+i.getSeconds()).substr(-2);window.console.log((e?1==e?"error":2==e?"":e:"")+"["+n+"]"+t)}}}),bt=wt,_t=Object(c["a"])(bt,pt,mt,!1,null,"6ec98af7",null),yt=_t.exports,xt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Ct=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"show"}},[i("div",{staticClass:"center"}),i("div",{attrs:{id:"fourlView"}})])}],kt={name:"fourlView",data:function(){return{container:null,stats:null,scene:null,renderer:null,mouseX:0,mouseY:0,windowWidth:null,windowHeight:null,views:[{left:0,bottom:0,width:.5,height:.5,background:new y["i"](0),eye:[0,3,10],up:[-1,1,0],fov:45},{left:0,bottom:.5,width:.5,height:.5,background:new y["i"](0),eye:[-10,3,0],up:[0,-1,-1],fov:45},{left:.5,bottom:0,width:.5,height:.5,background:new y["i"](0),eye:[10,3,0],up:[-1,1,-1],fov:45},{left:.5,bottom:.5,width:.5,height:.5,background:new y["i"](0),eye:[0,3,-10],up:[-1,-1,0],fov:45}],clock:null,gui:null,mixer:null,actions:null,activeAction:null,previousAction:null,mesh:null,model:null,face:null,api:{state:"Walking"}}},methods:{init:function(){this.container=document.getElementById("fourlView");for(var t=0;t<this.views.length;++t){var e=this.views[t],i=new y["U"](45,window.innerWidth/window.innerHeight,.25,100);i.position.fromArray(e.eye),i.up.fromArray(e.up),e.camera=i}this.scene=new y["eb"],this.clock=new y["h"];var n=new y["q"](16777215,4473924);n.position.set(0,20,0),this.scene.add(n),n=new y["j"](16777215),n.position.set(0,20,10),this.scene.add(n);var a=new S["a"],s=this;a.load("./static/three/RobotExpressive/RobotExpressive.glb",(function(t){s.model=t.scene,s.scene.add(s.model),s.createGUI(s.model,t.animations)}),void 0,(function(t){window.console.error(t)})),this.renderer=new y["qb"]({antialias:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(window.innerWidth,window.innerHeight),this.renderer.outputEncoding=y["rb"],this.container.appendChild(this.renderer.domElement),this.stats=new C["a"],this.container.appendChild(this.stats.dom)},createGUI:function(t,e){var i=["Idle","Walking","Running","Dance","Death","Sitting","Standing"],n=["Jump","Yes","No","Wave","Punch","ThumbsUp"];this.gui=new k["a"],this.mixer=new y["b"](t),this.actions={};for(var a=0;a<e.length;a++){var s=e[a],o=this.mixer.clipAction(s);this.actions[s.name]=o,(n.indexOf(s.name)>=0||i.indexOf(s.name)>=4)&&(o.clampWhenFinished=!0,o.loop=y["F"])}var r=this.gui.addFolder("States"),c=r.add(this.api,"state").options(i);c.onChange((function(){d.fadeToAction(d.api.state,.5)})),r.open();var l=this.gui.addFolder("Emotes"),d=this;function u(t){d.api[t]=function(){d.fadeToAction(t,.2),d.mixer.addEventListener("finished",h)},l.add(d.api,t)}function h(){d.mixer.removeEventListener("finished",h),d.fadeToAction(d.api.state,.2)}for(var f=0;f<n.length;f++)u(n[f]);l.open(),this.face=this.model.getObjectByName("Head_2");for(var p=Object.keys(this.face.morphTargetDictionary),m=this.gui.addFolder("Expressions"),v=0;a<p.length;v++)m.add(this.face.morphTargetInfluences,v,0,1,.01).name(p[v]);this.activeAction=this.actions["Walking"],this.activeAction.play(),m.open()},fadeToAction:function(t,e){this.previousAction=this.activeAction,this.activeAction=this.actions[t],this.previousAction!==this.activeAction&&this.previousAction.fadeOut(e),this.activeAction.reset().setEffectiveTimeScale(1).setEffectiveWeight(1).fadeIn(e).play()},updateSize:function(){if(this.windowWidth!=window.innerWidth||this.windowHeight!=window.innerHeight){this.windowWidth=window.innerWidth<window.innerHeight?window.innerWidth:window.innerHeight,this.windowHeight=this.windowWidth;var t=document.getElementById("show");t.style.width=this.windowWidth,t.style.height=this.windowWidth,this.renderer.setSize(this.windowWidth,this.windowHeight)}},animate:function(){var t=this.clock.getDelta();this.mixer&&this.mixer.update(t),this.render(),this.stats.update(),requestAnimationFrame(this.animate)},render:function(){this.updateSize();for(var t=0;t<this.views.length;++t){var e=this.views[t],i=e.camera;i.lookAt(new y["ob"](0,2,0));var n=Math.floor(this.windowWidth*e.left),a=Math.floor(this.windowHeight*e.bottom),s=Math.floor(this.windowWidth*e.width),o=Math.floor(this.windowHeight*e.height);this.renderer.setViewport(n,a,s,o),this.renderer.setScissor(n,a,s,o),this.renderer.setScissorTest(!0),this.renderer.setClearColor(e.background),i.aspect=s/o,i.updateProjectionMatrix(),this.renderer.render(this.scene,i)}}},mounted:function(){if(x["a"].isWebGLAvailable())this.init(),this.animate();else{var t=x["a"].getWebGLErrorMessage();document.getElementById("container").appendChild(t)}}},St=kt,Et=(i("77c3"),Object(c["a"])(St,xt,Ct,!1,null,"50abd149",null)),Tt=Et.exports;n["a"].use(u["a"]);var At=[{path:"/",redirect:"/four"},{path:"/login",component:w},{path:"/home",component:L},{path:"/four",component:Tt},{path:"/content",component:F,children:[{path:"/chat",component:yt},{path:"/notice",component:V},{path:"/noticeAdd",component:et},{path:"/image",component:rt},{path:"/help",component:ft},{path:"/show",component:D}]}],Dt=new u["a"]({routes:At});Dt.beforeEach((function(t,e,i){"/login"===t.path&&i();var n=window.sessionStorage.getItem("userId");if(!n)return i("/login");i()}));var Ot=Dt,$t=(i("e930"),i("8f80")),jt=(i("c194"),i("7744")),Wt=(i("6d73"),i("473d")),Pt=(i("d1cf"),i("ee83")),Lt=(i("8a58"),i("e41f")),Rt=(i("be7f"),i("565f")),Ht=(i("ab71"),i("58e6")),It=(i("9a83"),i("f564")),qt=(i("e17f"),i("2241")),Bt=(i("9cb7"),i("66fd")),Ft=(i("4467"),i("c36e")),Mt=(i("c3a6"),i("ad06")),zt=(i("5246"),i("6b41")),Ut=(i("e7e5"),i("d399")),Nt=(i("38d5"),i("772a")),Gt=(i("4ddd"),i("9f14")),Vt=(i("a44c"),i("e27c")),Yt=(i("66b9"),i("b650"));n["a"].use(Yt["a"]),n["a"].use(Vt["a"]),n["a"].use(Gt["a"]),n["a"].use(Nt["a"]),n["a"].use(Ut["a"]),n["a"].use(zt["a"]),n["a"].use(Mt["a"]),n["a"].use(Ft["a"]),n["a"].use(Bt["a"]),n["a"].use(qt["a"]),n["a"].use(It["a"]),n["a"].use(Ht["a"]),n["a"].use(Rt["a"]),n["a"].use(Lt["a"]),n["a"].use(Pt["a"]),n["a"].use(Wt["a"]),n["a"].use(jt["a"]),n["a"].use($t["a"]);i("aede");var Jt=i("bc3a"),Qt=i.n(Jt);n["a"].prototype.$http=Qt.a,n["a"].config.productionTip=!1,new n["a"]({router:Ot,render:function(t){return t(d)}}).$mount("#app")},"58fe":function(t,e,i){},"64ffc":function(t,e,i){},6792:function(t,e,i){"use strict";var n=i("471d"),a=i.n(n);a.a},"72bd":function(t,e,i){},"77c3":function(t,e,i){"use strict";var n=i("dd49"),a=i.n(n);a.a},7911:function(t,e,i){"use strict";var n=i("64ffc"),a=i.n(n);a.a},"7d57":function(t,e,i){"use strict";var n=i("58fe"),a=i.n(n);a.a},a9a8:function(t,e,i){},aede:function(t,e,i){},b40e:function(t,e,i){},c77f:function(t,e,i){"use strict";var n=i("72bd"),a=i.n(n);a.a},cb67:function(t,e,i){"use strict";var n=i("b40e"),a=i.n(n);a.a},dd49:function(t,e,i){},e410:function(t,e,i){"use strict";var n=i("a9a8"),a=i.n(n);a.a}});
//# sourceMappingURL=app.940c8430.js.map