(function(t){function e(e){for(var i,o,r=e[0],c=e[1],l=e[2],d=0,h=[];d<r.length;d++)o=r[d],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&h.push(s[o][0]),s[o]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);u&&u(e);while(h.length)h.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],i=!0,r=1;r<n.length;r++){var c=n[r];0!==s[c]&&(i=!1)}i&&(a.splice(e--,1),t=o(o.s=n[0]))}return t}var i={},s={app:0},a=[];function o(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=i,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var u=c;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"25f0":function(t,e,n){},"471d":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},a=[],o={name:"app"},r=o,c=n("2877"),l=Object(c["a"])(r,s,a,!1,null,null,null),u=l.exports,d=n("8c4f"),h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("main",[n("form",{staticClass:"form"},[n("div",{staticClass:"form__cover"}),n("div",{staticClass:"form__loader"},[n("div",{staticClass:"spinner active"},[n("svg",{staticClass:"spinner__circular",attrs:{viewBox:"25 25 50 50"}},[n("circle",{staticClass:"spinner__path",attrs:{cx:"50",cy:"50",r:"20",fill:"none","stroke-width":"4","stroke-miterlimit":"10"}})])])]),n("div",{staticClass:"form__content"},[n("h1",[t._v("登录/注册")]),n("div",{staticClass:"styled-input"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.form.username,expression:"form.username"}],staticClass:"styled-input__input",attrs:{type:"text"},domProps:{value:t.form.username},on:{input:function(e){e.target.composing||t.$set(t.form,"username",e.target.value)}}}),t._m(0),n("div",{staticClass:"styled-input__circle"})]),n("div",{staticClass:"styled-input"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password,expression:"form.password"}],staticClass:"styled-input__input",attrs:{type:"password"},domProps:{value:t.form.password},on:{input:function(e){e.target.composing||t.$set(t.form,"password",e.target.value)}}}),t._m(1),n("div",{staticClass:"styled-input__circle"})]),n("div",{staticClass:"radio"},[n("van-radio-group",{attrs:{direction:"horizontal"},model:{value:t.isShow,callback:function(e){t.isShow=e},expression:"isShow"}},[n("van-radio",{attrs:{name:"false","checked-color":"#FFB600"}},[t._v("控制端")]),n("van-radio",{attrs:{name:"true","checked-color":"#FFB600"}},[t._v("显示端")])],1)],1),n("div",{staticClass:"buttonContainer"},[n("button",{staticClass:"styled-button",attrs:{type:"button"},on:{click:function(e){return t.login()}}},[t._m(2)]),n("button",{staticClass:"styled-button",attrs:{type:"button"},on:{click:function(e){return t.register()}}},[t._m(3)])])])])])])},f=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"styled-input__placeholder"},[n("span",{staticClass:"styled-input__placeholder-text"},[t._v("Username")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"styled-input__placeholder"},[n("span",{staticClass:"styled-input__placeholder-text"},[t._v("Password")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"styled-button__real-text-holder"},[n("span",{staticClass:"styled-button__real-text"},[t._v("Login")]),n("span",{staticClass:"styled-button__moving-block face"},[n("span",{staticClass:"styled-button__text-holder"},[n("span",{staticClass:"styled-button__text"},[t._v("Login")])])]),n("span",{staticClass:"styled-button__moving-block back"},[n("span",{staticClass:"styled-button__text-holder"},[n("span",{staticClass:"styled-button__text"},[t._v("Login")])])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"styled-button__real-text-holder"},[n("span",{staticClass:"styled-button__real-text"},[t._v("Register")]),n("span",{staticClass:"styled-button__moving-block face"},[n("span",{staticClass:"styled-button__text-holder"},[n("span",{staticClass:"styled-button__text"},[t._v("Register")])])]),n("span",{staticClass:"styled-button__moving-block back"},[n("span",{staticClass:"styled-button__text-holder"},[n("span",{staticClass:"styled-button__text"},[t._v("Register")])])])])}],p=(n("a4d3"),n("e01a"),n("d28b"),n("4160"),n("fb6a"),n("d3b7"),n("3ca3"),n("159b"),n("ddb0"),n("96cf"),n("1da1")),v={data:function(){return{form:{username:"",password:""},isShow:"false"}},mounted:function(){var t=document.querySelectorAll(".styled-input__placeholder-text"),e=document.querySelectorAll(".styled-input__input");function n(t,e){var n=e?"add":"remove",i=t.querySelectorAll(".letter");i=[].slice.call(i,0),e||(i=i.reverse()),i.forEach((function(i,s){setTimeout((function(){var s=t.classList.contains("filled");e&&!s||!e&&s||i.classList[n]("active")}),50*s)}))}t.forEach((function(t){for(var e=t.innerText,n="",i=Array.isArray(e),s=i?e:e[Symbol.iterator](),a=0;;){var o;if(i){if(a>=s.length)break;o=s[a++]}else{if(a=s.next(),a.done)break;o=a.value}var r=o;e||(e="&nbsp;"),n+='<span class="letter">'+r+"</span>"}t.innerHTML=n})),e.forEach((function(t){var e=t.parentNode;t.addEventListener("focus",(function(){e.classList.add("filled"),n(e,!0)}),!1),t.addEventListener("blur",(function(){t.value.length||(e.classList.remove("filled"),n(e,!1))}),!1)})),setTimeout((function(){document.body.classList.add("on-start")}),100),setTimeout((function(){document.body.classList.add("document-loaded")}),1800)},methods:{login:function(){var t=Object(p["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=/\w{3,10}/,n="",""===this.form.username?n+="用户名不能为空\n":e.test(this.form.username)||(n+="用户名应为3到10位字母或数字\n"),""===this.form.password?n+="密码不能为空\n":e.test(this.form.password)||(n+="密码应为3到10位字母或数字\n"),!n){t.next=6;break}return t.abrupt("return",this.$toast.fail(n));case 6:window.sessionStorage.setItem("userId","1"),"true"===this.isShow?this.$router.push("/show"):this.$router.push("/home");case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),register:function(){var t=/\w{3,10}/,e="";if(""===this.form.username?e+="用户名不能为空\n":t.test(this.form.username)||(e+="用户名应为3到10位字母或数字\n"),""===this.form.password?e+="密码不能为空\n":t.test(this.form.password)||(e+="密码应为3到10位字母或数字\n"),e)return this.$toast.fail(e);this.$toast.success("注册成功!\n请登录"),this.form.username="",this.form.password=""}}},m=v,w=(n("7d57"),Object(c["a"])(m,h,f,!1,null,null,null)),b=w.exports,g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"home"}},[n("van-nav-bar",{attrs:{title:"","right-text":"退出登录"},on:{"click-right":t.logout}}),n("div",{staticClass:"buttonsdiv"},[n("router-link",{attrs:{to:"/chat"}},[n("van-button",{attrs:{type:"primary"}},[t._v("语音聊天模式"),n("van-icon",{attrs:{name:"chat-o",size:"25"}})],1)],1),n("router-link",{attrs:{to:"/notice"}},[n("van-button",{attrs:{type:"primary"}},[t._v("设置行程提醒"),n("van-icon",{attrs:{name:"bulb-o",size:"25"}})],1)],1),n("router-link",{attrs:{to:"/image"}},[n("van-button",{attrs:{type:"primary"}},[t._v("设置贴图"),n("van-icon",{attrs:{name:"brush-o",size:"25"}})],1)],1),n("router-link",{attrs:{to:"/help"}},[n("van-button",{attrs:{type:"primary"}},[t._v("帮助")])],1)],1)],1)},_=[],y={methods:{logout:function(){window.sessionStorage.clear(),this.$router.push("/login")}}},k=y,C=(n("6792"),Object(c["a"])(k,g,_,!1,null,"325c4d6a",null)),x=C.exports,S=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"content"}},[n("van-nav-bar",{attrs:{fixed:"",title:"","left-text":"返回","right-text":"退出登录","left-arrow":""},on:{"click-left":t.goBack,"click-right":t.logout}}),n("router-view",{attrs:{id:"inContent"}})],1)},D=[],T={methods:{goBack:function(){window.history.length>1?this.$router.go(-1):this.$router.push("/home")},logout:function(){window.sessionStorage.clear(),this.$router.push("/login")}}},O=T,E=(n("cb67"),Object(c["a"])(O,S,D,!1,null,"c193ef4e",null)),$=E.exports,j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"add"},[n("router-link",{attrs:{to:"/noticeAdd"}},[n("van-icon",{attrs:{name:"plus"}})],1)],1),n("van-pull-refresh",{on:{refresh:t.onRefresh},model:{value:t.isLoading,callback:function(e){t.isLoading=e},expression:"isLoading"}},[n("van-swipe-cell",{attrs:{"before-close":t.beforeClose},scopedSlots:t._u([{key:"right",fn:function(){return[n("van-button",{staticClass:"delete-button",attrs:{square:"",text:"删除",type:"danger"}})]},proxy:!0}])},[n("div",{staticClass:"notice-card"},[n("div",{staticClass:"card-left"},[n("p",[t._v("三月")]),n("p",{staticClass:"day"},[t._v("27")]),n("p",[t._v("周五")])]),n("div",{staticClass:"card-right"},[n("p",{staticClass:"notice-content"},[t._v("开会202室,开会202室,开会202室")]),n("p",{staticClass:"notice-time"},[t._v("7:00-14:00")])])])]),n("van-swipe-cell",{scopedSlots:t._u([{key:"right",fn:function(){return[n("van-button",{staticClass:"delete-button",attrs:{square:"",text:"删除",type:"danger"}})]},proxy:!0}])},[n("div",{staticClass:"notice-card active"},[n("div",{staticClass:"card-left"},[n("p",[t._v("三月")]),n("p",{staticClass:"day"},[t._v("27")]),n("p",[t._v("周五")])]),n("div",{staticClass:"card-right"},[n("p",{staticClass:"notice-content"},[t._v("开会202室,开会202室,开会202室")]),n("p",{staticClass:"notice-time"},[t._v("7:00-14:00")])])])]),n("van-swipe-cell",{scopedSlots:t._u([{key:"right",fn:function(){return[n("van-button",{staticClass:"delete-button",attrs:{square:"",text:"删除",type:"danger"}})]},proxy:!0}])},[n("div",{staticClass:"notice-card active"},[n("div",{staticClass:"card-left"},[n("p",[t._v("三月")]),n("p",{staticClass:"day"},[t._v("27")]),n("p",[t._v("周五")])]),n("div",{staticClass:"card-right"},[n("p",{staticClass:"notice-content"},[t._v("开会202室,开会202室,开会202室")]),n("p",{staticClass:"notice-time"},[t._v("7:00-14:00")])])])]),n("van-swipe-cell",{scopedSlots:t._u([{key:"right",fn:function(){return[n("van-button",{staticClass:"delete-button",attrs:{square:"",text:"删除",type:"danger"}})]},proxy:!0}])},[n("div",{staticClass:"notice-card active"},[n("div",{staticClass:"card-left"},[n("p",[t._v("三月")]),n("p",{staticClass:"day"},[t._v("27")]),n("p",[t._v("周五")])]),n("div",{staticClass:"card-right"},[n("p",{staticClass:"notice-content"},[t._v("开会202室,开会202室,开会202室")]),n("p",{staticClass:"notice-time"},[t._v("7:00-14:00")])])])]),n("van-swipe-cell",{scopedSlots:t._u([{key:"right",fn:function(){return[n("van-button",{staticClass:"delete-button",attrs:{square:"",text:"删除",type:"danger"}})]},proxy:!0}])},[n("div",{staticClass:"notice-card active"},[n("div",{staticClass:"card-left"},[n("p",[t._v("三月")]),n("p",{staticClass:"day"},[t._v("27")]),n("p",[t._v("周五")])]),n("div",{staticClass:"card-right"},[n("p",{staticClass:"notice-content"},[t._v("开会202室,开会202室,开会202室")]),n("p",{staticClass:"notice-time"},[t._v("7:00-14:00")])])])]),n("van-swipe-cell",{scopedSlots:t._u([{key:"right",fn:function(){return[n("van-button",{staticClass:"delete-button",attrs:{square:"",text:"删除",type:"danger"}})]},proxy:!0}])},[n("div",{staticClass:"notice-card active"},[n("div",{staticClass:"card-left"},[n("p",[t._v("三月")]),n("p",{staticClass:"day"},[t._v("27")]),n("p",[t._v("周五")])]),n("div",{staticClass:"card-right"},[n("p",{staticClass:"notice-content"},[t._v("开会202室,开会202室,开会202室")]),n("p",{staticClass:"notice-time"},[t._v("7:00-14:00")])])])]),n("van-swipe-cell",{scopedSlots:t._u([{key:"right",fn:function(){return[n("van-button",{staticClass:"delete-button",attrs:{square:"",text:"删除",type:"danger"}})]},proxy:!0}])},[n("div",{staticClass:"notice-card active"},[n("div",{staticClass:"card-left"},[n("p",[t._v("三月")]),n("p",{staticClass:"day"},[t._v("27")]),n("p",[t._v("周五")])]),n("div",{staticClass:"card-right"},[n("p",{staticClass:"notice-content"},[t._v("开会202室,开会202室,开会202室")]),n("p",{staticClass:"notice-time"},[t._v("7:00-14:00")])])])])],1)],1)},L=[],R={data:function(){return{isLoading:!1,card:{month:3,date:27,day:5,content:"开会202室",time:"7:00-14:00"}}},methods:{getNotice:function(){var t=Object(p["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}(),onRefresh:function(){this.$toast("刷新成功"),this.isLoading=!1},beforeClose:function(t){var e=this,n=t.position,i=t.instance;switch(n){case"left":case"cell":case"outside":i.close();break;case"right":this.$dialog.confirm({message:"确定删除吗？"}).then((function(){i.close(),e.$notify({type:"success",message:"删除成功"})})).catch((function(){}));break}}}},P=R,A=(n("7911"),Object(c["a"])(P,j,L,!1,null,"420896fc",null)),W=A.exports,B=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("van-form",{on:{submit:t.onSubmit}},[n("van-calendar",{style:{height:"300px"},attrs:{title:"选择行程日期",poppable:!1,"show-confirm":!1,"row-height":35},on:{select:t.onDateConfirm}}),n("van-field",{attrs:{readonly:"",clickable:"",name:"datetimePicker",value:t.form.time,label:"时间选择",placeholder:"点击选择时间"},on:{click:function(e){t.showTimePicker=!0}}}),n("van-popup",{attrs:{position:"bottom"},model:{value:t.showTimePicker,callback:function(e){t.showTimePicker=e},expression:"showTimePicker"}},[n("van-datetime-picker",{attrs:{type:"time"},on:{confirm:t.onTimeConfirm,cancel:function(e){t.showTimePicker=!1}}})],1),n("van-field",{attrs:{readonly:"",clickable:"",name:"datetimePicker",value:t.form.noticeTime,label:"提醒时间",placeholder:"点击选择提醒时间"},on:{click:function(e){t.showDatetimePicker=!0}}}),n("van-popup",{attrs:{position:"bottom"},model:{value:t.showDatetimePicker,callback:function(e){t.showDatetimePicker=e},expression:"showDatetimePicker"}},[n("van-datetime-picker",{attrs:{type:"datetime","min-date":t.minDate,"max-date":t.maxDate},on:{confirm:t.onDatetimeConfirm,cancel:function(e){t.showDatetimePicker=!1}},model:{value:t.happenTime,callback:function(e){t.happenTime=e},expression:"happenTime"}})],1),n("van-field",{attrs:{name:"内容",label:"内容",rules:[{required:!0,message:"请填写提醒内容"}]},model:{value:t.form.content,callback:function(e){t.$set(t.form,"content",e)},expression:"form.content"}}),n("div",{staticStyle:{margin:"16px"}},[n("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit"}},[t._v("提交")])],1)],1)],1)},H=[],M=(n("99af"),n("ac1f"),n("1276"),n("4478")),q=n("2909"),I={data:function(){return{value:"",showTimePicker:!1,showDatetimePicker:!1,form:{date:"",time:"",noticeTime:"",content:""},minDate:new Date(2020,1,1),maxDate:new Date(2025,10,1),show:!1}},created:function(){var t=new Date;this.form.date=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate(),window.console.log(this.form.date)},computed:{happenTime:{get:function(){var t=this.form.date.split("-");t[1]--;var e=this.form.time.split(":");return window.console.log(Object(M["a"])(Date,Object(q["a"])(t).concat(Object(q["a"])(e)))),Object(M["a"])(Date,Object(q["a"])(t).concat(Object(q["a"])(e)))},set:function(){}}},methods:{onSubmit:function(){var t=this;window.console.log("submit",this.form),this.$notify({type:"success",message:"添加成功"}),setTimeout((function(){t.$router.go(-1)}),1e3)},onDateConfirm:function(t){this.form.date=this.formatDate(t)},formatDate:function(t){return"".concat(t.getFullYear(),"-").concat(t.getMonth()+1,"-").concat(t.getDate())},onTimeConfirm:function(t){this.form.time=t,this.showTimePicker=!1},formatDateTime:function(t){return"".concat(t.getFullYear(),"-").concat(t.getMonth()+1,"-").concat(t.getDate()," ").concat(t.getHours()<10?"0"+t.getHours():t.getHours(),":").concat(t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes())},onDatetimeConfirm:function(t){this.form.noticeTime=this.formatDateTime(t),this.showDatetimePicker=!1}}},U=I,F=(n("e410"),Object(c["a"])(U,B,H,!1,null,null,null)),z=F.exports,N=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("van-form",{on:{submit:t.onSubmit}},[n("van-field",{attrs:{name:"uploader",label:"文件上传"},scopedSlots:t._u([{key:"input",fn:function(){return[n("van-uploader",{attrs:{"max-count":1,"after-read":t.afterRead},model:{value:t.form.fileList,callback:function(e){t.$set(t.form,"fileList",e)},expression:"form.fileList"}})]},proxy:!0}])}),n("div",{staticStyle:{margin:"16px"}},[n("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit"}},[t._v("提交")]),n("van-button",{attrs:{round:"",block:"",type:"info"},on:{click:t.del}},[t._v("关闭贴图")])],1)],1)],1)},Y=[],G={data:function(){return{form:{fileList:[]}}},methods:{onSubmit:function(){this.$notify({type:"success",message:"添加成功"}),setTimeout(this.$router.go(-1),5e3)},afterRead:function(t){t.status="uploading",t.message="上传中...",setTimeout((function(){t.status="failed",t.message="上传失败"}),1e3)},del:function(){}}},V=G,J=(n("c77f"),Object(c["a"])(V,N,Y,!1,null,null,null)),Q=J.exports,Z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"help"}},[t._v(" hhhh ")])},X=[],K={},tt=K,et=Object(c["a"])(tt,Z,X,!1,null,"20ddaa06",null),nt=et.exports,it=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"c-ars"}},[n("button",{attrs:{id:"microphone"},on:{touchstart:function(e){return e.preventDefault(),t.startRecorder(e)},touchend:t.endRecorder,mousedown:function(e){return e.preventDefault(),t.startRecorder(e)},mouseup:function(e){return e.preventDefault(),t.endRecorder(e)}}},[t._v("点这个这个")]),t._m(0),t._m(1),n("button",{attrs:{onclick:"recPlay()"}},[t._v("播放")])])},st=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pd recpower"},[n("div",{staticStyle:{height:"40px",width:"300px",background:"#999",position:"relative"}},[n("div",{staticClass:"recpowerx",staticStyle:{height:"40px",background:"#0B1",position:"absolute"}}),n("div",{staticClass:"recpowert",staticStyle:{"padding-left":"50px","line-height":"40px",position:"relative"}})])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pd waveBox"},[n("div",{staticClass:"recwave",staticStyle:{height:"100px",width:"300px",border:"1px solid #ccc","box-sizing":"border-box",display:"inline-block"}})])}],at=(n("5319"),n("2b3d"),n("e2cc")),ot=n.n(at),rt=(n("604a"),{data:function(){return{userId:1,client_id:"lOQ5dD9hdxO4fYSpZC5ag9k7",client_secret:"cEfW9QHZsnD0wivPHqwU6FDELSG4WjUu",baiduToken:null,rec:null,recBlob:null,dialogInt:null}},mounted:function(){this.getBaiduToken(),this.recOpen()},beforeDestroyed:function(){this.recClose()},methods:{getBaiduToken:function(){var t=Object(p["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$http.post("/getBaidu/oauth/2.0/token?grant_type=client_credentials&client_id=".concat(this.client_id,"&client_secret=").concat(this.client_secret));case 2:e=t.sent,n=e.data,this.baiduToken=n.access_token;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),startRecorder:function(){this.recStart()},endRecorder:function(){this.recStop()},recOpen:function(){this.rec=null,this.recBlob=null;var t=this,e=ot()({type:"wav",sampleRate:16e3,bitRate:16,onProcess:function(e,n,i,s){document.querySelector(".recpowerx").style.width=n+"%",document.querySelector(".recpowert").innerText=i+" / "+n,t.wave.input(e[e.length-1],n,s)}});this.createDelayDialog(),e.open((function(){t.dialogCancel(),t.rec=e,t.wave=ot.a.FrequencyHistogramView({elem:".recwave"}),t.reclog("已打开录音，可以点击录制开始录音了",2)}),(function(e,n){t.dialogCancel(),t.reclog((n?"UserNotAllow，":"")+"打开录音失败："+e,1)})),window.waitDialogClick=function(){t.dialogCancel(),t.reclog("打开失败：权限请求被忽略，<span style='color:#f00'>用户主动点击的弹窗</span>",1)}},recClose:function(){this.rec?(this.rec.close(),this.reclog("已关闭")):this.reclog("未打开录音",1)},recStart:function(){this.rec&&ot.a.IsOpen()?(this.recBlob=null,this.rec.start(),this.reclog("已开始录音...")):this.reclog("未打开录音",1)},recStop:function(){if(this.rec&&ot.a.IsOpen()){var t=this;this.rec.stop((function(e,n){window.console.log(e,(window.URL||window.webkitURL).createObjectURL(e),"时长:"+n+"ms"),t.recBlob=e,t.reclog("已录制wav："+n+"ms "+e.size+"字节，可以点击播放、上传了",2)}),(function(e){t.reclog("录音失败:"+e,1)}))}else this.reclog("未打开录音",1)},recPlay:function(){if(this.recBlob){var t=("a"+Math.random()).replace(".","");this.reclog('播放中: <span class="'+t+'"></span>');var e=document.createElement("audio");e.controls=!0,document.querySelector("."+t).appendChild(e),e.src=(window.URL||window.webkitURL).createObjectURL(this.recBlob),e.play(),setTimeout((function(){(window.URL||window.webkitURL).revokeObjectURL(e.src)}),5e3)}else this.reclog("请先录音，然后停止后再播放",1)},showDialog:function(){if(/mobile/i.test(navigator.userAgent)){this.dialogCancel();var t=document.createElement("div");document.body.appendChild(t),t.innerHTML='<div class="waitDialog" style="z-index:99999;width:100%;height:100%;top:0;left:0;position:fixed;background:rgba(0,0,0,0.3);"><div style="display:flex;height:100%;align-items:center;"><div style="flex:1;"></div><div style="width:240px;background:#fff;padding:15px 20px;border-radius: 10px;"><div style="padding-bottom:10px;">录音功能需要麦克风权限，请允许；如果未看到任何请求，请点击忽略~</div><div style="text-align:center;"><a onclick="waitDialogClick()" style="color:#0B1">忽略</a></div></div><div style="flex:1;"></div></div></div>'}},createDelayDialog:function(){var t=this;this.dialogInt=setTimeout((function(){t.showDialog()}),8e3)},dialogCancel:function(){clearTimeout(this.dialogInt);for(var t=document.querySelectorAll(".waitDialog"),e=0;e<t.length;e++)t[e].parentNode.removeChild(t[e])},reclog:function(t,e){var n=new Date,i=("0"+n.getHours()).substr(-2)+":"+("0"+n.getMinutes()).substr(-2)+":"+("0"+n.getSeconds()).substr(-2);window.console.log((e?1==e?"error":2==e?"":e:"")+"["+i+"]"+t)}}}),ct=rt,lt=(n("5b4d"),Object(c["a"])(ct,it,st,!1,null,"f7ad68ba",null)),ut=lt.exports,dt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},ht=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{attrs:{id:"show"}},[n("div",{staticClass:"center"}),n("div",{attrs:{id:"fourlView"}})])])}],ft=(n("c975"),n("b0c0"),n("b64b"),n("5a89")),pt=n("113e"),vt=n("ef20"),mt=n("b9d8"),wt=n("34ad"),bt={name:"fourlView",data:function(){return{container:null,stats:null,scene:null,renderer:null,mouseX:0,mouseY:0,windowWidth:null,windowHeight:null,object:null,views:[{left:0,bottom:0,width:.5,height:.5,background:new ft["i"](0),eye:[0,3,10],up:[-1,1,0],fov:45},{left:0,bottom:.5,width:.5,height:.5,background:new ft["i"](0),eye:[-10,3,0],up:[0,-1,-1],fov:45},{left:.5,bottom:0,width:.5,height:.5,background:new ft["i"](0),eye:[10,3,0],up:[-1,1,-1],fov:45},{left:.5,bottom:.5,width:.5,height:.5,background:new ft["i"](0),eye:[0,3,-10],up:[-1,-1,0],fov:45}],clock:null,gui:null,mixer:null,actions:null,activeAction:null,previousAction:null,mesh:null,model:null,face:null,api:{state:"Walking"}}},methods:{init:function(){this.container=document.getElementById("fourlView");for(var t=0;t<this.views.length;++t){var e=this.views[t],n=new ft["R"](45,window.innerWidth/window.innerHeight,.25,100);n.position.fromArray(e.eye),n.up.fromArray(e.up),e.camera=n}this.scene=new ft["ab"],this.clock=new ft["h"];var i=new ft["o"](16777215,4473924);i.position.set(0,20,0),this.scene.add(i),i=new ft["j"](16777215),i.position.set(0,20,10),this.scene.add(i);var s=new wt["a"],a=this;s.load("./static/three/RobotExpressive/RobotExpressive.glb",(function(t){a.model=t.scene,a.scene.add(a.model),a.createGUI(a.model,t.animations)}),void 0,(function(t){window.console.error(t)})),this.renderer=new ft["mb"]({antialias:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(window.innerWidth,window.innerHeight),this.renderer.outputEncoding=ft["nb"],this.container.appendChild(this.renderer.domElement),this.stats=new vt["a"]},createGUI:function(t,e){var n=["Idle","Walking","Running","Dance","Death","Sitting","Standing"],i=["Jump","Yes","No","Wave","Punch","ThumbsUp"];this.gui=new mt["a"],this.mixer=new ft["b"](t),this.actions={};for(var s=0;s<e.length;s++){var a=e[s],o=this.mixer.clipAction(a);this.actions[a.name]=o,(i.indexOf(a.name)>=0||n.indexOf(a.name)>=4)&&(o.clampWhenFinished=!0,o.loop=ft["D"])}var r=this.gui.addFolder("States"),c=r.add(this.api,"state").options(n);c.onChange((function(){u.fadeToAction(u.api.state,.5)})),r.open();var l=this.gui.addFolder("Emotes"),u=this;function d(t){u.api[t]=function(){u.fadeToAction(t,.2),u.mixer.addEventListener("finished",h)},l.add(u.api,t)}function h(){u.mixer.removeEventListener("finished",h),u.fadeToAction(u.api.state,.2)}for(var f=0;f<i.length;f++)d(i[f]);l.open(),this.face=this.model.getObjectByName("Head_2");for(var p=Object.keys(this.face.morphTargetDictionary),v=this.gui.addFolder("Expressions"),m=0;s<p.length;m++)v.add(this.face.morphTargetInfluences,m,0,1,.01).name(p[m]);this.activeAction=this.actions["Walking"],this.activeAction.play(),v.open()},fadeToAction:function(t,e){this.previousAction=this.activeAction,this.activeAction=this.actions[t],this.previousAction!==this.activeAction&&this.previousAction.fadeOut(e),this.activeAction.reset().setEffectiveTimeScale(1).setEffectiveWeight(1).fadeIn(e).play()},updateSize:function(){if(this.windowWidth!=window.innerWidth||this.windowHeight!=window.innerHeight){this.windowWidth=window.innerWidth<window.innerHeight?window.innerWidth:window.innerHeight,this.windowWidth=this.windowWidth-20,this.windowHeight=this.windowWidth;var t=document.getElementById("show");t.style.width=this.windowWidth,t.style.height=this.windowWidth,this.renderer.setSize(this.windowWidth,this.windowHeight)}},animate:function(){var t=this.clock.getDelta();this.mixer&&this.mixer.update(t),this.render(),this.stats.update(),requestAnimationFrame(this.animate)},render:function(){this.updateSize();for(var t=0;t<this.views.length;++t){var e=this.views[t],n=e.camera;n.lookAt(new ft["kb"](0,2,0));var i=Math.floor(this.windowWidth*e.left),s=Math.floor(this.windowHeight*e.bottom),a=Math.floor(this.windowWidth*e.width),o=Math.floor(this.windowHeight*e.height);this.renderer.setViewport(i,s,a,o),this.renderer.setScissor(i,s,a,o),this.renderer.setScissorTest(!0),this.renderer.setClearColor(e.background),n.aspect=a/o,n.updateProjectionMatrix(),this.renderer.render(this.scene,n)}}},mounted:function(){if(pt["a"].isWebGLAvailable())this.init(),this.animate();else{var t=pt["a"].getWebGLErrorMessage();document.getElementById("container").appendChild(t)}},destroyed:function(){function t(t){while(t.lastChild)t.removeChild(t.lastChild)}cancelAnimationFrame(this.animate),this.renderer.domElement.addEventListener("dblclick",null,!1),this.scene=null,this.projector=null,this.camera=null,this.controls=null,this.gui.destroy(),t(this.modelContainer)}},gt=bt,_t=(n("e93b"),Object(c["a"])(gt,dt,ht,!1,null,null,null)),yt=_t.exports,kt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"test"})},Ct=[],xt={name:"test",data:function(){return{websock:null}},created:function(){this.initWebSocket()},destroyed:function(){this.websock.close()},methods:{initWebSocket:function(){var t="ws://121.40.165.18:8800";this.websock=new WebSocket(t),this.websock.onmessage=this.websocketonmessage,this.websock.onopen=this.websocketonopen,this.websock.onerror=this.websocketonerror,this.websock.onclose=this.websocketclose},websocketonopen:function(){var t={test:"12345"};this.websocketsend(JSON.stringify(t))},websocketonerror:function(){this.initWebSocket()},websocketonmessage:function(t){window.console.log(t)},websocketsend:function(t){this.websock.send(t)},websocketclose:function(t){window.console.log("断开连接",t)}}},St=xt,Dt=Object(c["a"])(St,kt,Ct,!1,null,null,null),Tt=Dt.exports;i["a"].use(d["a"]);var Ot=[{path:"/",redirect:"/test"},{path:"/login",component:b},{path:"/home",component:x},{path:"/content",component:$,children:[{path:"/chat",component:ut},{path:"/notice",component:W},{path:"/noticeAdd",component:z},{path:"/image",component:Q},{path:"/help",component:nt},{path:"/test",component:Tt},{path:"/show",component:yt}]}],Et=new d["a"]({routes:Ot});Et.beforeEach((function(t,e,n){"/login"===t.path&&n();var i=window.sessionStorage.getItem("userId");if(!i)return n("/login");n()}));var $t=Et,jt=(n("e930"),n("8f80")),Lt=(n("c194"),n("7744")),Rt=(n("6d73"),n("473d")),Pt=(n("d1cf"),n("ee83")),At=(n("8a58"),n("e41f")),Wt=(n("be7f"),n("565f")),Bt=(n("ab71"),n("58e6")),Ht=(n("9a83"),n("f564")),Mt=(n("e17f"),n("2241")),qt=(n("9cb7"),n("66fd")),It=(n("4467"),n("c36e")),Ut=(n("c3a6"),n("ad06")),Ft=(n("5246"),n("6b41")),zt=(n("e7e5"),n("d399")),Nt=(n("38d5"),n("772a")),Yt=(n("4ddd"),n("9f14")),Gt=(n("a44c"),n("e27c")),Vt=(n("66b9"),n("b650"));i["a"].use(Vt["a"]),i["a"].use(Gt["a"]),i["a"].use(Yt["a"]),i["a"].use(Nt["a"]),i["a"].use(zt["a"]),i["a"].use(Ft["a"]),i["a"].use(Ut["a"]),i["a"].use(It["a"]),i["a"].use(qt["a"]),i["a"].use(Mt["a"]),i["a"].use(Ht["a"]),i["a"].use(Bt["a"]),i["a"].use(Wt["a"]),i["a"].use(At["a"]),i["a"].use(Pt["a"]),i["a"].use(Rt["a"]),i["a"].use(Lt["a"]),i["a"].use(jt["a"]);n("aede");var Jt=n("bc3a"),Qt=n.n(Jt);i["a"].prototype.$http=Qt.a,i["a"].config.productionTip=!1,new i["a"]({router:$t,render:function(t){return t(u)}}).$mount("#app")},"58fe":function(t,e,n){},"5b4d":function(t,e,n){"use strict";var i=n("bfea"),s=n.n(i);s.a},"64ffc":function(t,e,n){},6792:function(t,e,n){"use strict";var i=n("471d"),s=n.n(i);s.a},"72bd":function(t,e,n){},7911:function(t,e,n){"use strict";var i=n("64ffc"),s=n.n(i);s.a},"7d57":function(t,e,n){"use strict";var i=n("58fe"),s=n.n(i);s.a},a9a8:function(t,e,n){},aede:function(t,e,n){},b40e:function(t,e,n){},bfea:function(t,e,n){},c77f:function(t,e,n){"use strict";var i=n("72bd"),s=n.n(i);s.a},cb67:function(t,e,n){"use strict";var i=n("b40e"),s=n.n(i);s.a},e410:function(t,e,n){"use strict";var i=n("a9a8"),s=n.n(i);s.a},e93b:function(t,e,n){"use strict";var i=n("25f0"),s=n.n(i);s.a}});
//# sourceMappingURL=app.9aac342f.js.map