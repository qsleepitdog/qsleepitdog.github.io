(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-322d8dd0"],{"0d3b":function(e,t,n){var r=n("d039"),a=n("b622"),i=n("c430"),o=a("iterator");e.exports=!r((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,r){t["delete"]("b"),n+=r+e})),i&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[o]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},"14c3":function(e,t,n){var r=n("c6b6"),a=n("9263");e.exports=function(e,t){var n=e.exec;if("function"===typeof n){var i=n.call(e,t);if("object"!==typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==r(e))throw TypeError("RegExp#exec called on incompatible receiver");return a.call(e,t)}},"2b3d":function(e,t,n){"use strict";n("3ca3");var r,a=n("23e7"),i=n("83ab"),o=n("0d3b"),s=n("da84"),c=n("37e8"),l=n("6eeb"),u=n("19aa"),f=n("5135"),h=n("60da"),p=n("4df4"),v=n("6547").codeAt,d=n("5fb2"),g=n("d44e"),m=n("9861"),w=n("69f3"),y=s.URL,b=m.URLSearchParams,S=m.getState,x=w.set,R=w.getterFor("URL"),k=Math.floor,_=Math.pow,I="Invalid authority",U="Invalid scheme",M="Invalid host",C="Invalid port",L=/[A-Za-z]/,T=/[\d+\-.A-Za-z]/,A=/\d/,D=/^(0x|0X)/,E=/^[0-7]+$/,O=/^\d+$/,P=/^[\dA-Fa-f]+$/,B=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,z=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,F=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,q=/[\u0009\u000A\u000D]/g,j=function(e,t){var n,r,a;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return M;if(n=N(t.slice(1,-1)),!n)return M;e.host=n}else if(Y(e)){if(t=d(t),B.test(t))return M;if(n=$(t),null===n)return M;e.host=n}else{if(z.test(t))return M;for(n="",r=p(t),a=0;a<r.length;a++)n+=Z(r[a],H);e.host=n}},$=function(e){var t,n,r,a,i,o,s,c=e.split(".");if(c.length&&""==c[c.length-1]&&c.pop(),t=c.length,t>4)return e;for(n=[],r=0;r<t;r++){if(a=c[r],""==a)return e;if(i=10,a.length>1&&"0"==a.charAt(0)&&(i=D.test(a)?16:8,a=a.slice(8==i?1:2)),""===a)o=0;else{if(!(10==i?O:8==i?E:P).test(a))return e;o=parseInt(a,i)}n.push(o)}for(r=0;r<t;r++)if(o=n[r],r==t-1){if(o>=_(256,5-t))return null}else if(o>255)return null;for(s=n.pop(),r=0;r<n.length;r++)s+=n[r]*_(256,3-r);return s},N=function(e){var t,n,r,a,i,o,s,c=[0,0,0,0,0,0,0,0],l=0,u=null,f=0,h=function(){return e.charAt(f)};if(":"==h()){if(":"!=e.charAt(1))return;f+=2,l++,u=l}while(h()){if(8==l)return;if(":"!=h()){t=n=0;while(n<4&&P.test(h()))t=16*t+parseInt(h(),16),f++,n++;if("."==h()){if(0==n)return;if(f-=n,l>6)return;r=0;while(h()){if(a=null,r>0){if(!("."==h()&&r<4))return;f++}if(!A.test(h()))return;while(A.test(h())){if(i=parseInt(h(),10),null===a)a=i;else{if(0==a)return;a=10*a+i}if(a>255)return;f++}c[l]=256*c[l]+a,r++,2!=r&&4!=r||l++}if(4!=r)return;break}if(":"==h()){if(f++,!h())return}else if(h())return;c[l++]=t}else{if(null!==u)return;f++,l++,u=l}}if(null!==u){o=l-u,l=7;while(0!=l&&o>0)s=c[l],c[l--]=c[u+o-1],c[u+--o]=s}else if(8!=l)return;return c},W=function(e){for(var t=null,n=1,r=null,a=0,i=0;i<8;i++)0!==e[i]?(a>n&&(t=r,n=a),r=null,a=0):(null===r&&(r=i),++a);return a>n&&(t=r,n=a),t},G=function(e){var t,n,r,a;if("number"==typeof e){for(t=[],n=0;n<4;n++)t.unshift(e%256),e=k(e/256);return t.join(".")}if("object"==typeof e){for(t="",r=W(e),n=0;n<8;n++)a&&0===e[n]||(a&&(a=!1),r===n?(t+=n?":":"::",a=!0):(t+=e[n].toString(16),n<7&&(t+=":")));return"["+t+"]"}return e},H={},V=h({},H,{" ":1,'"':1,"<":1,">":1,"`":1}),J=h({},V,{"#":1,"?":1,"{":1,"}":1}),K=h({},J,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Z=function(e,t){var n=v(e,0);return n>32&&n<127&&!f(t,e)?e:encodeURIComponent(e)},X={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Y=function(e){return f(X,e.scheme)},Q=function(e){return""!=e.username||""!=e.password},ee=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},te=function(e,t){var n;return 2==e.length&&L.test(e.charAt(0))&&(":"==(n=e.charAt(1))||!t&&"|"==n)},ne=function(e){var t;return e.length>1&&te(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},re=function(e){var t=e.path,n=t.length;!n||"file"==e.scheme&&1==n&&te(t[0],!0)||t.pop()},ae=function(e){return"."===e||"%2e"===e.toLowerCase()},ie=function(e){return e=e.toLowerCase(),".."===e||"%2e."===e||".%2e"===e||"%2e%2e"===e},oe={},se={},ce={},le={},ue={},fe={},he={},pe={},ve={},de={},ge={},me={},we={},ye={},be={},Se={},xe={},Re={},ke={},_e={},Ie={},Ue=function(e,t,n,a){var i,o,s,c,l=n||oe,u=0,h="",v=!1,d=!1,g=!1;n||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(F,"")),t=t.replace(q,""),i=p(t);while(u<=i.length){switch(o=i[u],l){case oe:if(!o||!L.test(o)){if(n)return U;l=ce;continue}h+=o.toLowerCase(),l=se;break;case se:if(o&&(T.test(o)||"+"==o||"-"==o||"."==o))h+=o.toLowerCase();else{if(":"!=o){if(n)return U;h="",l=ce,u=0;continue}if(n&&(Y(e)!=f(X,h)||"file"==h&&(Q(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=h,n)return void(Y(e)&&X[e.scheme]==e.port&&(e.port=null));h="","file"==e.scheme?l=ye:Y(e)&&a&&a.scheme==e.scheme?l=le:Y(e)?l=pe:"/"==i[u+1]?(l=ue,u++):(e.cannotBeABaseURL=!0,e.path.push(""),l=ke)}break;case ce:if(!a||a.cannotBeABaseURL&&"#"!=o)return U;if(a.cannotBeABaseURL&&"#"==o){e.scheme=a.scheme,e.path=a.path.slice(),e.query=a.query,e.fragment="",e.cannotBeABaseURL=!0,l=Ie;break}l="file"==a.scheme?ye:fe;continue;case le:if("/"!=o||"/"!=i[u+1]){l=fe;continue}l=ve,u++;break;case ue:if("/"==o){l=de;break}l=Re;continue;case fe:if(e.scheme=a.scheme,o==r)e.username=a.username,e.password=a.password,e.host=a.host,e.port=a.port,e.path=a.path.slice(),e.query=a.query;else if("/"==o||"\\"==o&&Y(e))l=he;else if("?"==o)e.username=a.username,e.password=a.password,e.host=a.host,e.port=a.port,e.path=a.path.slice(),e.query="",l=_e;else{if("#"!=o){e.username=a.username,e.password=a.password,e.host=a.host,e.port=a.port,e.path=a.path.slice(),e.path.pop(),l=Re;continue}e.username=a.username,e.password=a.password,e.host=a.host,e.port=a.port,e.path=a.path.slice(),e.query=a.query,e.fragment="",l=Ie}break;case he:if(!Y(e)||"/"!=o&&"\\"!=o){if("/"!=o){e.username=a.username,e.password=a.password,e.host=a.host,e.port=a.port,l=Re;continue}l=de}else l=ve;break;case pe:if(l=ve,"/"!=o||"/"!=h.charAt(u+1))continue;u++;break;case ve:if("/"!=o&&"\\"!=o){l=de;continue}break;case de:if("@"==o){v&&(h="%40"+h),v=!0,s=p(h);for(var m=0;m<s.length;m++){var w=s[m];if(":"!=w||g){var y=Z(w,K);g?e.password+=y:e.username+=y}else g=!0}h=""}else if(o==r||"/"==o||"?"==o||"#"==o||"\\"==o&&Y(e)){if(v&&""==h)return I;u-=p(h).length+1,h="",l=ge}else h+=o;break;case ge:case me:if(n&&"file"==e.scheme){l=Se;continue}if(":"!=o||d){if(o==r||"/"==o||"?"==o||"#"==o||"\\"==o&&Y(e)){if(Y(e)&&""==h)return M;if(n&&""==h&&(Q(e)||null!==e.port))return;if(c=j(e,h),c)return c;if(h="",l=xe,n)return;continue}"["==o?d=!0:"]"==o&&(d=!1),h+=o}else{if(""==h)return M;if(c=j(e,h),c)return c;if(h="",l=we,n==me)return}break;case we:if(!A.test(o)){if(o==r||"/"==o||"?"==o||"#"==o||"\\"==o&&Y(e)||n){if(""!=h){var b=parseInt(h,10);if(b>65535)return C;e.port=Y(e)&&b===X[e.scheme]?null:b,h=""}if(n)return;l=xe;continue}return C}h+=o;break;case ye:if(e.scheme="file","/"==o||"\\"==o)l=be;else{if(!a||"file"!=a.scheme){l=Re;continue}if(o==r)e.host=a.host,e.path=a.path.slice(),e.query=a.query;else if("?"==o)e.host=a.host,e.path=a.path.slice(),e.query="",l=_e;else{if("#"!=o){ne(i.slice(u).join(""))||(e.host=a.host,e.path=a.path.slice(),re(e)),l=Re;continue}e.host=a.host,e.path=a.path.slice(),e.query=a.query,e.fragment="",l=Ie}}break;case be:if("/"==o||"\\"==o){l=Se;break}a&&"file"==a.scheme&&!ne(i.slice(u).join(""))&&(te(a.path[0],!0)?e.path.push(a.path[0]):e.host=a.host),l=Re;continue;case Se:if(o==r||"/"==o||"\\"==o||"?"==o||"#"==o){if(!n&&te(h))l=Re;else if(""==h){if(e.host="",n)return;l=xe}else{if(c=j(e,h),c)return c;if("localhost"==e.host&&(e.host=""),n)return;h="",l=xe}continue}h+=o;break;case xe:if(Y(e)){if(l=Re,"/"!=o&&"\\"!=o)continue}else if(n||"?"!=o)if(n||"#"!=o){if(o!=r&&(l=Re,"/"!=o))continue}else e.fragment="",l=Ie;else e.query="",l=_e;break;case Re:if(o==r||"/"==o||"\\"==o&&Y(e)||!n&&("?"==o||"#"==o)){if(ie(h)?(re(e),"/"==o||"\\"==o&&Y(e)||e.path.push("")):ae(h)?"/"==o||"\\"==o&&Y(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&te(h)&&(e.host&&(e.host=""),h=h.charAt(0)+":"),e.path.push(h)),h="","file"==e.scheme&&(o==r||"?"==o||"#"==o))while(e.path.length>1&&""===e.path[0])e.path.shift();"?"==o?(e.query="",l=_e):"#"==o&&(e.fragment="",l=Ie)}else h+=Z(o,J);break;case ke:"?"==o?(e.query="",l=_e):"#"==o?(e.fragment="",l=Ie):o!=r&&(e.path[0]+=Z(o,H));break;case _e:n||"#"!=o?o!=r&&("'"==o&&Y(e)?e.query+="%27":e.query+="#"==o?"%23":Z(o,H)):(e.fragment="",l=Ie);break;case Ie:o!=r&&(e.fragment+=Z(o,V));break}u++}},Me=function(e){var t,n,r=u(this,Me,"URL"),a=arguments.length>1?arguments[1]:void 0,o=String(e),s=x(r,{type:"URL"});if(void 0!==a)if(a instanceof Me)t=R(a);else if(n=Ue(t={},String(a)),n)throw TypeError(n);if(n=Ue(s,o,null,t),n)throw TypeError(n);var c=s.searchParams=new b,l=S(c);l.updateSearchParams(s.query),l.updateURL=function(){s.query=String(c)||null},i||(r.href=Le.call(r),r.origin=Te.call(r),r.protocol=Ae.call(r),r.username=De.call(r),r.password=Ee.call(r),r.host=Oe.call(r),r.hostname=Pe.call(r),r.port=Be.call(r),r.pathname=ze.call(r),r.search=Fe.call(r),r.searchParams=qe.call(r),r.hash=je.call(r))},Ce=Me.prototype,Le=function(){var e=R(this),t=e.scheme,n=e.username,r=e.password,a=e.host,i=e.port,o=e.path,s=e.query,c=e.fragment,l=t+":";return null!==a?(l+="//",Q(e)&&(l+=n+(r?":"+r:"")+"@"),l+=G(a),null!==i&&(l+=":"+i)):"file"==t&&(l+="//"),l+=e.cannotBeABaseURL?o[0]:o.length?"/"+o.join("/"):"",null!==s&&(l+="?"+s),null!==c&&(l+="#"+c),l},Te=function(){var e=R(this),t=e.scheme,n=e.port;if("blob"==t)try{return new URL(t.path[0]).origin}catch(r){return"null"}return"file"!=t&&Y(e)?t+"://"+G(e.host)+(null!==n?":"+n:""):"null"},Ae=function(){return R(this).scheme+":"},De=function(){return R(this).username},Ee=function(){return R(this).password},Oe=function(){var e=R(this),t=e.host,n=e.port;return null===t?"":null===n?G(t):G(t)+":"+n},Pe=function(){var e=R(this).host;return null===e?"":G(e)},Be=function(){var e=R(this).port;return null===e?"":String(e)},ze=function(){var e=R(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},Fe=function(){var e=R(this).query;return e?"?"+e:""},qe=function(){return R(this).searchParams},je=function(){var e=R(this).fragment;return e?"#"+e:""},$e=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(i&&c(Ce,{href:$e(Le,(function(e){var t=R(this),n=String(e),r=Ue(t,n);if(r)throw TypeError(r);S(t.searchParams).updateSearchParams(t.query)})),origin:$e(Te),protocol:$e(Ae,(function(e){var t=R(this);Ue(t,String(e)+":",oe)})),username:$e(De,(function(e){var t=R(this),n=p(String(e));if(!ee(t)){t.username="";for(var r=0;r<n.length;r++)t.username+=Z(n[r],K)}})),password:$e(Ee,(function(e){var t=R(this),n=p(String(e));if(!ee(t)){t.password="";for(var r=0;r<n.length;r++)t.password+=Z(n[r],K)}})),host:$e(Oe,(function(e){var t=R(this);t.cannotBeABaseURL||Ue(t,String(e),ge)})),hostname:$e(Pe,(function(e){var t=R(this);t.cannotBeABaseURL||Ue(t,String(e),me)})),port:$e(Be,(function(e){var t=R(this);ee(t)||(e=String(e),""==e?t.port=null:Ue(t,e,we))})),pathname:$e(ze,(function(e){var t=R(this);t.cannotBeABaseURL||(t.path=[],Ue(t,e+"",xe))})),search:$e(Fe,(function(e){var t=R(this);e=String(e),""==e?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",Ue(t,e,_e)),S(t.searchParams).updateSearchParams(t.query)})),searchParams:$e(qe),hash:$e(je,(function(e){var t=R(this);e=String(e),""!=e?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",Ue(t,e,Ie)):t.fragment=null}))}),l(Ce,"toJSON",(function(){return Le.call(this)}),{enumerable:!0}),l(Ce,"toString",(function(){return Le.call(this)}),{enumerable:!0}),y){var Ne=y.createObjectURL,We=y.revokeObjectURL;Ne&&l(Me,"createObjectURL",(function(e){return Ne.apply(y,arguments)})),We&&l(Me,"revokeObjectURL",(function(e){return We.apply(y,arguments)}))}g(Me,"URL"),a({global:!0,forced:!o,sham:!i},{URL:Me})},4107:function(e,t){(function(){var e=function(e){return new t(e)},t=function(e){var t=this,n={scale:2,speed:8,lineWidth:3,linear1:[0,"rgba(150,96,238,1)",.2,"rgba(170,79,249,1)",1,"rgba(53,199,253,1)"],linear2:[0,"rgba(209,130,255,0.6)",1,"rgba(53,199,255,0.6)"],linearBg:[0,"rgba(255,255,255,0.2)",1,"rgba(54,197,252,0.2)"]};for(var r in e)n[r]=e[r];t.set=e=n;var a=e.elem;a&&("string"==typeof a?a=document.querySelector(a):a.length&&(a=a[0])),a&&(e.width=a.offsetWidth,e.height=a.offsetHeight);var i=e.scale,o=e.width*i,s=e.height*i,c=t.elem=document.createElement("div"),l=["","transform-origin:0 0;","transform:scale("+1/i+");"];c.innerHTML='<div style="width:'+e.width+"px;height:"+e.height+'px;overflow:hidden"><div style="width:'+o+"px;height:"+s+"px;"+l.join("-webkit-")+l.join("-ms-")+l.join("-moz-")+l.join("")+'"><canvas/></div></div>';var u=t.canvas=c.querySelector("canvas"),f=t.ctx=u.getContext("2d");u.width=o,u.height=s,t.linear1=t.genLinear(f,o,e.linear1),t.linear2=t.genLinear(f,o,e.linear2),t.linearBg=t.genLinear(f,s,e.linearBg,!0),a&&(a.innerHTML="",a.appendChild(c)),t._phase=0};t.prototype=e.prototype={genLinear:function(e,t,n,r){for(var a=e.createLinearGradient(0,0,r?0:t,r?t:0),i=0;i<n.length;)a.addColorStop(n[i++],n[i++]);return a},genPath:function(e,t,n){for(var r=[],a=this,i=a.set,o=i.scale,s=i.width*o,c=i.height*o/2,l=0;l<s;l+=o){var u=(1+Math.cos(Math.PI+l/s*2*Math.PI))/2,f=u*c*t*Math.sin(2*Math.PI*(l/s)*e+n)+c;r.push(f)}return r},input:function(e,t,n){var r=this,a=r.set,i=r.ctx,o=a.scale,s=a.width*o,c=a.height*o,l=a.speed*e.length/n,u=r._phase-=l,f=t/100,h=r.genPath(2,f,u),p=r.genPath(1.8,f,u+5*l);i.clearRect(0,0,s,c),i.beginPath();for(var v=0,d=0;d<s;v++,d+=o)0==d?i.moveTo(d,h[v]):i.lineTo(d,h[v]);v--;for(d=s-1;d>=0;v--,d-=o)i.lineTo(d,p[v]);i.closePath(),i.fillStyle=r.linearBg,i.fill(),r.drawPath(p,r.linear2),r.drawPath(h,r.linear1)},drawPath:function(e,t){var n=this,r=n.set,a=n.ctx,i=r.scale,o=r.width*i;a.beginPath();for(var s=0,c=0;c<o;s++,c+=i)0==c?a.moveTo(c,e[s]):a.lineTo(c,e[s]);a.lineWidth=r.lineWidth*i,a.strokeStyle=t,a.stroke()}},Recorder.WaveView=e})()},"4df4":function(e,t,n){"use strict";var r=n("0366"),a=n("7b0b"),i=n("9bdd"),o=n("e95a"),s=n("50c4"),c=n("8418"),l=n("35a1");e.exports=function(e){var t,n,u,f,h,p,v=a(e),d="function"==typeof this?this:Array,g=arguments.length,m=g>1?arguments[1]:void 0,w=void 0!==m,y=l(v),b=0;if(w&&(m=r(m,g>2?arguments[2]:void 0,2)),void 0==y||d==Array&&o(y))for(t=s(v.length),n=new d(t);t>b;b++)p=w?m(v[b],b):v[b],c(n,b,p);else for(f=y.call(v),h=f.next,n=new d;!(u=h.call(f)).done;b++)p=w?i(f,m,[u.value,b],!0):u.value,c(n,b,p);return n.length=b,n}},5319:function(e,t,n){"use strict";var r=n("d784"),a=n("825a"),i=n("7b0b"),o=n("50c4"),s=n("a691"),c=n("1d80"),l=n("8aa5"),u=n("14c3"),f=Math.max,h=Math.min,p=Math.floor,v=/\$([$&'`]|\d\d?|<[^>]*>)/g,d=/\$([$&'`]|\d\d?)/g,g=function(e){return void 0===e?e:String(e)};r("replace",2,(function(e,t,n,r){var m=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,w=r.REPLACE_KEEPS_$0,y=m?"$":"$0";return[function(n,r){var a=c(this),i=void 0==n?void 0:n[e];return void 0!==i?i.call(n,a,r):t.call(String(a),n,r)},function(e,r){if(!m&&w||"string"===typeof r&&-1===r.indexOf(y)){var i=n(t,e,this,r);if(i.done)return i.value}var c=a(e),p=String(this),v="function"===typeof r;v||(r=String(r));var d=c.global;if(d){var S=c.unicode;c.lastIndex=0}var x=[];while(1){var R=u(c,p);if(null===R)break;if(x.push(R),!d)break;var k=String(R[0]);""===k&&(c.lastIndex=l(p,o(c.lastIndex),S))}for(var _="",I=0,U=0;U<x.length;U++){R=x[U];for(var M=String(R[0]),C=f(h(s(R.index),p.length),0),L=[],T=1;T<R.length;T++)L.push(g(R[T]));var A=R.groups;if(v){var D=[M].concat(L,C,p);void 0!==A&&D.push(A);var E=String(r.apply(void 0,D))}else E=b(M,p,C,L,A,r);C>=I&&(_+=p.slice(I,C)+E,I=C+M.length)}return _+p.slice(I)}];function b(e,n,r,a,o,s){var c=r+e.length,l=a.length,u=d;return void 0!==o&&(o=i(o),u=v),t.call(s,u,(function(t,i){var s;switch(i.charAt(0)){case"$":return"$";case"&":return e;case"`":return n.slice(0,r);case"'":return n.slice(c);case"<":s=o[i.slice(1,-1)];break;default:var u=+i;if(0===u)return t;if(u>l){var f=p(u/10);return 0===f?t:f<=l?void 0===a[f-1]?i.charAt(1):a[f-1]+i.charAt(1):t}s=a[u-1]}return void 0===s?"":s}))}}))},"5fb2":function(e,t,n){"use strict";var r=2147483647,a=36,i=1,o=26,s=38,c=700,l=72,u=128,f="-",h=/[^\0-\u007E]/,p=/[.\u3002\uFF0E\uFF61]/g,v="Overflow: input needs wider integers to process",d=a-i,g=Math.floor,m=String.fromCharCode,w=function(e){var t=[],n=0,r=e.length;while(n<r){var a=e.charCodeAt(n++);if(a>=55296&&a<=56319&&n<r){var i=e.charCodeAt(n++);56320==(64512&i)?t.push(((1023&a)<<10)+(1023&i)+65536):(t.push(a),n--)}else t.push(a)}return t},y=function(e){return e+22+75*(e<26)},b=function(e,t,n){var r=0;for(e=n?g(e/c):e>>1,e+=g(e/t);e>d*o>>1;r+=a)e=g(e/d);return g(r+(d+1)*e/(e+s))},S=function(e){var t=[];e=w(e);var n,s,c=e.length,h=u,p=0,d=l;for(n=0;n<e.length;n++)s=e[n],s<128&&t.push(m(s));var S=t.length,x=S;S&&t.push(f);while(x<c){var R=r;for(n=0;n<e.length;n++)s=e[n],s>=h&&s<R&&(R=s);var k=x+1;if(R-h>g((r-p)/k))throw RangeError(v);for(p+=(R-h)*k,h=R,n=0;n<e.length;n++){if(s=e[n],s<h&&++p>r)throw RangeError(v);if(s==h){for(var _=p,I=a;;I+=a){var U=I<=d?i:I>=d+o?o:I-d;if(_<U)break;var M=_-U,C=a-U;t.push(m(y(U+M%C))),_=g(M/C)}t.push(m(y(_))),d=b(p,k,x==S),p=0,++x}}++p,++h}return t.join("")};e.exports=function(e){var t,n,r=[],a=e.toLowerCase().replace(p,".").split(".");for(t=0;t<a.length;t++)n=a[t],r.push(h.test(n)?"xn--"+S(n):n);return r.join(".")}},"604a":function(e,t,n){var r;!function(e){"use strict";var t=function(){},n=function(e){return new i(e)};n.IsOpen=function(){var e=n.Stream;if(e){var t=e.getTracks&&e.getTracks()||e.audioTracks||[],r=t[0];if(r){var a=r.readyState;return"live"==a||a==r.LIVE}}return!1},n.BufferSize=4096,n.Destroy=function(){for(var e in console.log("Recorder Destroy"),r)r[e]()};var r={};n.BindDestroy=function(e,t){r[e]=t},n.Support=function(){var t=e.AudioContext;if(t||(t=e.webkitAudioContext),!t)return!1;var r=navigator.mediaDevices||{};return r.getUserMedia||(r=navigator).getUserMedia||(r.getUserMedia=r.webkitGetUserMedia||r.mozGetUserMedia||r.msGetUserMedia),!!r.getUserMedia&&(n.Scope=r,n.Ctx&&"closed"!=n.Ctx.state||(n.Ctx=new t,n.BindDestroy("Ctx",(function(){var e=n.Ctx;e&&e.close&&e.close()}))),!0)},n.SampleData=function(e,t,n,r,a){r||(r={});var i=r.index||0,o=r.offset||0,s=r.frameNext||[];a||(a={});var c=a.frameSize||1;a.frameType&&(c="mp3"==a.frameType?1152:1);for(var l=0,u=i;u<e.length;u++)l+=e[u].length;l=Math.max(0,l-Math.floor(o));var f=t/n;1<f?l=Math.floor(l/f):(f=1,n=t),l+=s.length;var h=new Int16Array(l),p=0;for(u=0;u<s.length;u++)h[p]=s[u],p++;for(var v=e.length;i<v;i++){for(var d=e[i],g=(u=o,d.length);u<g;){var m=Math.floor(u),w=Math.ceil(u),y=u-m;h[p]=d[m]+(d[w]-d[m])*y,p++,u+=f}o=u-g}s=null;var b=h.length%c;if(0<b){var S=2*(h.length-b);s=new Int16Array(h.buffer.slice(S)),h=new Int16Array(h.buffer.slice(0,S))}return{index:i,offset:o,frameNext:s,sampleRate:n,data:h}},n.PowerLevel=function(e,t){var n=e/t||0;return n<1251?Math.round(n/1250*10):Math.round(Math.min(100,Math.max(0,100*(1+Math.log(n/1e4)/Math.log(10)))))};var a=0;function i(e){this.id=++a,n.Traffic&&n.Traffic();var r={type:"mp3",bitRate:16,sampleRate:16e3,onProcess:t};for(var i in e)r[i]=e[i];this.set=r,this._S=9}n.Sync={O:9,C:9},n.prototype=i.prototype={open:function(r,a){var i=this;r=r||t,a=a||t;var o=function(){r(),i._SO=0},s=function(t,n){/Permission|Allow/i.test(t)?a("用户拒绝了录音权限",!0):!1===e.isSecureContext?a("无权录音(需https)"):/Found/i.test(t)?a(n+"，无可用麦克风"):a(n)},c=n.Sync,l=++c.O,u=c.C;i._O=i._O_=l,i._SO=i._S;var f=function(){if(u!=c.C||!i._O){var e="open被取消";return l==c.O?i.close():e="open被中断",a(e),!0}};if(n.IsOpen())o();else if(n.Support()){var h=function(e){(n.Stream=e)._call={},f()||setTimeout((function(){f()||(n.IsOpen()?(function(){var e=n.Ctx,t=n.Stream,r=t._m=e.createMediaStreamSource(t),a=t._p=(e.createScriptProcessor||e.createJavaScriptNode).call(e,n.BufferSize,1,1);r.connect(a),a.connect(e.destination);var i=t._call;a.onaudioprocess=function(e){for(var t in i){for(var n=e.inputBuffer.getChannelData(0),r=n.length,a=new Int16Array(r),o=0,s=0;s<r;s++){var c=Math.max(-1,Math.min(1,n[s]));c=c<0?32768*c:32767*c,a[s]=c,o+=Math.abs(c)}for(var l in i)i[l](a,o);return}}}(),o()):a("录音功能无效：无音频流"))}),100)},p=function(e){var t=e.name||e.message||e.code+":"+e;console.error(e),s(t,"无法录音："+t)},v=n.Scope.getUserMedia({audio:!0},h,p);v&&v.then&&v.then(h)[r&&"catch"](p)}else s("","此浏览器不支持录音")},close:function(e){e=e||t,this._stop();var r=n.Sync;if(this._O=0,this._O_!=r.O)return console.warn("close被忽略"),void e();r.C++;var a,i=n.Stream;if(i){(a=n.Stream)._m&&(a._m.disconnect(),a._p.disconnect(),a._p.onaudioprocess=a._p=a._m=null);for(var o=i.getTracks&&i.getTracks()||i.audioTracks||[],s=0;s<o.length;s++){var c=o[s];c.stop&&c.stop()}i.stop&&i.stop()}n.Stream=0,e()},mock:function(e,t){var n=this;return n._stop(),n.isMock=1,n.buffers=[e],n.recSize=e.length,n.srcSampleRate=t,n},envStart:function(e,t){var n=this,r=n.set;if(n.isMock=e?1:0,n.buffers=[],n.recSize=0,n.envInLast=0,n.envInFirst=0,n.envInFix=0,n.envInFixTs=[],r.sampleRate=Math.min(t,r.sampleRate),n.srcSampleRate=t,n.engineCtx=0,n[r.type+"_start"]){var a=n.engineCtx=n[r.type+"_start"](r);a&&(a.pcmDatas=[],a.pcmSize=0)}},envResume:function(){this.envInFixTs=[]},envIn:function(e,t){var r=this,a=r.set,i=r.engineCtx,o=r.srcSampleRate,s=e.length,c=n.PowerLevel(t,s),l=r.buffers,u=l.length;l.push(e);var f=Date.now(),h=Math.round(s/o*1e3);r.envInLast=f,1==r.buffers.length&&(r.envInFirst=f-h);var p=r.envInFixTs;p.splice(0,0,{t:f,d:h});for(var v=f,d=0,g=0;g<p.length;g++){var m=p[g];if(3e3<f-m.t){p.length=g;break}v=m.t,d+=m.d}var w=p[1],y=f-v;if(y/3<y-d&&(w&&1e3<y||6<=p.length)){var b=f-w.t-h;if(h/5<b){var S=!a.disableEnvInFix;if(console.warn("["+f+"]"+(S?"":"未")+"补偿"+b+"ms"),r.envInFix+=b,S){var x=new Int16Array(b*o/1e3);s+=x.length,l.push(x)}}}var R=r.recSize,k=s,_=R+k;if(r.recSize=_,i){var I=n.SampleData(l,o,a.sampleRate,i.chunkInfo);i.chunkInfo=I,_=(R=i.pcmSize)+(k=I.data.length),i.pcmSize=_,l=i.pcmDatas,u=l.length,l.push(I.data),o=I.sampleRate}var U=Math.round(_/o*1e3),M=l.length,C=function(){for(var e=L?0:-k,t=0,n=u;n<M;n++){var o=l[n];null==o?t=1:(e+=o.length,i&&o.length&&r[a.type+"_encode"](i,o))}t||(i?i.pcmSize+=e:r.recSize+=e)},L=a.onProcess(l,c,U,o,u,C);if(!0===L){var T=0;for(g=u;g<M;g++)null==l[g]?T=1:l[g]=new Int16Array(0);T?console.warn("异步模式下不能清除buffers"):i?i.pcmSize-=k:r.recSize-=k}else C()},start:function(){if(n.IsOpen()){console.log("["+Date.now()+"]Start");var e=this,t=(e.set,n.Ctx);if(e._stop(),e.state=0,e.envStart(0,t.sampleRate),e._SO&&e._SO+1!=e._S)console.warn("start被中断");else{e._SO=0;var r=function(){e.state=1,e.resume()};"suspended"==t.state?t.resume().then((function(){console.log("ctx resume"),r()})):r()}}else console.error("未open")},pause:function(){this.state&&(this.state=2,delete n.Stream._call[this.id])},resume:function(){var e=this;e.state&&(e.state=1,e.envResume(),n.Stream._call[e.id]=function(t,n){1==e.state&&e.envIn(t,n)})},_stop:function(e){var t=this,n=t.set;t.isMock||t._S++,t.state&&(t.pause(),t.state=0),!e&&t[n.type+"_stop"]&&(t[n.type+"_stop"](t.engineCtx),t.engineCtx=0)},stop:function(e,t,r){var a,i=this,o=i.set;console.log("["+Date.now()+"]Stop "+(i.envInLast?i.envInLast-i.envInFirst+"ms 补"+i.envInFix+"ms":"-"));var s=function(){i._stop(),r&&i.close()},c=function(e){t&&t(e),s()},l=function(t,n){console.log("["+Date.now()+"]结束 编码"+(Date.now()-a)+"ms 音频"+n+"ms/"+t.size+"b"),t.size<Math.max(100,n/2)?c("生成的"+o.type+"无效"):(e&&e(t,n),s())};if(!i.isMock){if(!i.state)return void c("未开始录音");i._stop(!0)}var u=i.recSize;if(u)if(i.buffers[0])if(i[o.type]){var f=i.engineCtx;if(i[o.type+"_complete"]&&f){f.pcmDatas;var h=Math.round(f.pcmSize/o.sampleRate*1e3);return a=Date.now(),void i[o.type+"_complete"](f,(function(e){l(e,h)}),c)}a=Date.now();var p=n.SampleData(i.buffers,i.srcSampleRate,o.sampleRate);o.sampleRate=p.sampleRate;var v=p.data;h=Math.round(v.length/o.sampleRate*1e3),console.log("采样"+u+"->"+v.length+" 花:"+(Date.now()-a)+"ms"),setTimeout((function(){a=Date.now(),i[o.type](v,(function(e){l(e,h)}),(function(e){c(e)}))}))}else c("未加载"+o.type+"编码器");else c("音频被释放");else c("未采集到录音")}},e.Recorder&&e.Recorder.Destroy(),(e.Recorder=n).LM="2020-1-8 10:53:14",n.TrafficImgUrl="//ia.51.la/go1?id=20469973&pvFlag=1",n.Traffic=function(){var e=n.TrafficImgUrl;if(e){var t=n.Traffic,r=location.href.replace(/#.*/,"");if(!t[r]){t[r]=1;var a=new Image;a.src=e,console.log("Traffic Analysis Image: Recorder.TrafficImgUrl="+e)}}}}(window),r=function(){return Recorder}.call(t,n,t,e),void 0!==r&&(e.exports=r),e.exports&&(e.exports=Recorder),function(){"use strict";Recorder.prototype.enc_wav={stable:!0,testmsg:"比特率取值范围8位、16位"},Recorder.prototype.wav=function(e,t,n){var r=this.set,a=e.length,i=r.sampleRate,o=8==r.bitRate?8:16,s=a*(o/8),c=new ArrayBuffer(44+s),l=new DataView(c),u=0,f=function(e){for(var t=0;t<e.length;t++,u++)l.setUint8(u,e.charCodeAt(t))},h=function(e){l.setUint16(u,e,!0),u+=2},p=function(e){l.setUint32(u,e,!0),u+=4};if(f("RIFF"),p(36+s),f("WAVE"),f("fmt "),p(16),h(1),h(1),p(i),p(i*(o/8)),h(o/8),h(o),f("data"),p(s),8==o)for(var v=0;v<a;v++,u++){var d=128+(e[v]>>8);l.setInt8(u,d,!0)}else for(v=0;v<a;v++,u+=2)l.setInt16(u,e[v],!0);t(new Blob([l.buffer],{type:"audio/wav"}))}}()},"8aa5":function(e,t,n){"use strict";var r=n("6547").charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},9147:function(e,t,n){},9263:function(e,t,n){"use strict";var r=n("ad6d"),a=n("9f7f"),i=RegExp.prototype.exec,o=String.prototype.replace,s=i,c=function(){var e=/a/,t=/b*/g;return i.call(e,"a"),i.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),l=a.UNSUPPORTED_Y||a.BROKEN_CARET,u=void 0!==/()??/.exec("")[1],f=c||u||l;f&&(s=function(e){var t,n,a,s,f=this,h=l&&f.sticky,p=r.call(f),v=f.source,d=0,g=e;return h&&(p=p.replace("y",""),-1===p.indexOf("g")&&(p+="g"),g=String(e).slice(f.lastIndex),f.lastIndex>0&&(!f.multiline||f.multiline&&"\n"!==e[f.lastIndex-1])&&(v="(?: "+v+")",g=" "+g,d++),n=new RegExp("^(?:"+v+")",p)),u&&(n=new RegExp("^"+v+"$(?!\\s)",p)),c&&(t=f.lastIndex),a=i.call(h?n:f,g),h?a?(a.input=a.input.slice(d),a[0]=a[0].slice(d),a.index=f.lastIndex,f.lastIndex+=a[0].length):f.lastIndex=0:c&&a&&(f.lastIndex=f.global?a.index+a[0].length:t),u&&a&&a.length>1&&o.call(a[0],n,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(a[s]=void 0)})),a}),e.exports=s},9861:function(e,t,n){"use strict";n("e260");var r=n("23e7"),a=n("d066"),i=n("0d3b"),o=n("6eeb"),s=n("e2cc"),c=n("d44e"),l=n("9ed3"),u=n("69f3"),f=n("19aa"),h=n("5135"),p=n("0366"),v=n("f5df"),d=n("825a"),g=n("861d"),m=n("7c73"),w=n("5c6c"),y=n("9a1f"),b=n("35a1"),S=n("b622"),x=a("fetch"),R=a("Headers"),k=S("iterator"),_="URLSearchParams",I=_+"Iterator",U=u.set,M=u.getterFor(_),C=u.getterFor(I),L=/\+/g,T=Array(4),A=function(e){return T[e-1]||(T[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},D=function(e){try{return decodeURIComponent(e)}catch(t){return e}},E=function(e){var t=e.replace(L," "),n=4;try{return decodeURIComponent(t)}catch(r){while(n)t=t.replace(A(n--),D);return t}},O=/[!'()~]|%20/g,P={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},B=function(e){return P[e]},z=function(e){return encodeURIComponent(e).replace(O,B)},F=function(e,t){if(t){var n,r,a=t.split("&"),i=0;while(i<a.length)n=a[i++],n.length&&(r=n.split("="),e.push({key:E(r.shift()),value:E(r.join("="))}))}},q=function(e){this.entries.length=0,F(this.entries,e)},j=function(e,t){if(e<t)throw TypeError("Not enough arguments")},$=l((function(e,t){U(this,{type:I,iterator:y(M(e).entries),kind:t})}),"Iterator",(function(){var e=C(this),t=e.kind,n=e.iterator.next(),r=n.value;return n.done||(n.value="keys"===t?r.key:"values"===t?r.value:[r.key,r.value]),n})),N=function(){f(this,N,_);var e,t,n,r,a,i,o,s,c,l=arguments.length>0?arguments[0]:void 0,u=this,p=[];if(U(u,{type:_,entries:p,updateURL:function(){},updateSearchParams:q}),void 0!==l)if(g(l))if(e=b(l),"function"===typeof e){t=e.call(l),n=t.next;while(!(r=n.call(t)).done){if(a=y(d(r.value)),i=a.next,(o=i.call(a)).done||(s=i.call(a)).done||!i.call(a).done)throw TypeError("Expected sequence with length 2");p.push({key:o.value+"",value:s.value+""})}}else for(c in l)h(l,c)&&p.push({key:c,value:l[c]+""});else F(p,"string"===typeof l?"?"===l.charAt(0)?l.slice(1):l:l+"")},W=N.prototype;s(W,{append:function(e,t){j(arguments.length,2);var n=M(this);n.entries.push({key:e+"",value:t+""}),n.updateURL()},delete:function(e){j(arguments.length,1);var t=M(this),n=t.entries,r=e+"",a=0;while(a<n.length)n[a].key===r?n.splice(a,1):a++;t.updateURL()},get:function(e){j(arguments.length,1);for(var t=M(this).entries,n=e+"",r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){j(arguments.length,1);for(var t=M(this).entries,n=e+"",r=[],a=0;a<t.length;a++)t[a].key===n&&r.push(t[a].value);return r},has:function(e){j(arguments.length,1);var t=M(this).entries,n=e+"",r=0;while(r<t.length)if(t[r++].key===n)return!0;return!1},set:function(e,t){j(arguments.length,1);for(var n,r=M(this),a=r.entries,i=!1,o=e+"",s=t+"",c=0;c<a.length;c++)n=a[c],n.key===o&&(i?a.splice(c--,1):(i=!0,n.value=s));i||a.push({key:o,value:s}),r.updateURL()},sort:function(){var e,t,n,r=M(this),a=r.entries,i=a.slice();for(a.length=0,n=0;n<i.length;n++){for(e=i[n],t=0;t<n;t++)if(a[t].key>e.key){a.splice(t,0,e);break}t===n&&a.push(e)}r.updateURL()},forEach:function(e){var t,n=M(this).entries,r=p(e,arguments.length>1?arguments[1]:void 0,3),a=0;while(a<n.length)t=n[a++],r(t.value,t.key,this)},keys:function(){return new $(this,"keys")},values:function(){return new $(this,"values")},entries:function(){return new $(this,"entries")}},{enumerable:!0}),o(W,k,W.entries),o(W,"toString",(function(){var e,t=M(this).entries,n=[],r=0;while(r<t.length)e=t[r++],n.push(z(e.key)+"="+z(e.value));return n.join("&")}),{enumerable:!0}),c(N,_),r({global:!0,forced:!i},{URLSearchParams:N}),i||"function"!=typeof x||"function"!=typeof R||r({global:!0,enumerable:!0,forced:!0},{fetch:function(e){var t,n,r,a=[e];return arguments.length>1&&(t=arguments[1],g(t)&&(n=t.body,v(n)===_&&(r=t.headers?new R(t.headers):new R,r.has("content-type")||r.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),t=m(t,{body:w(0,String(n)),headers:w(0,r)}))),a.push(t)),x.apply(this,a)}}),e.exports={URLSearchParams:N,getState:M}},"99af":function(e,t,n){"use strict";var r=n("23e7"),a=n("d039"),i=n("e8b5"),o=n("861d"),s=n("7b0b"),c=n("50c4"),l=n("8418"),u=n("65f0"),f=n("1dde"),h=n("b622"),p=n("2d00"),v=h("isConcatSpreadable"),d=9007199254740991,g="Maximum allowed index exceeded",m=p>=51||!a((function(){var e=[];return e[v]=!1,e.concat()[0]!==e})),w=f("concat"),y=function(e){if(!o(e))return!1;var t=e[v];return void 0!==t?!!t:i(e)},b=!m||!w;r({target:"Array",proto:!0,forced:b},{concat:function(e){var t,n,r,a,i,o=s(this),f=u(o,0),h=0;for(t=-1,r=arguments.length;t<r;t++)if(i=-1===t?o:arguments[t],y(i)){if(a=c(i.length),h+a>d)throw TypeError(g);for(n=0;n<a;n++,h++)n in i&&l(f,h,i[n])}else{if(h>=d)throw TypeError(g);l(f,h++,i)}return f.length=h,f}})},"9a1f":function(e,t,n){var r=n("825a"),a=n("35a1");e.exports=function(e){var t=a(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return r(t.call(e))}},"9f7f":function(e,t,n){"use strict";var r=n("d039");function a(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=r((function(){var e=a("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=r((function(){var e=a("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},ac1f:function(e,t,n){"use strict";var r=n("23e7"),a=n("9263");r({target:"RegExp",proto:!0,forced:/./.exec!==a},{exec:a})},ad6d:function(e,t,n){"use strict";var r=n("825a");e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},bfc9:function(e,t){(function(){"use strict";Recorder.prototype.enc_wav={stable:!0,testmsg:"比特率取值范围8位、16位"},Recorder.prototype.wav=function(e,t,n){var r=this,a=r.set,i=e.length,o=a.sampleRate,s=8==a.bitRate?8:16,c=i*(s/8),l=new ArrayBuffer(44+c),u=new DataView(l),f=0,h=function(e){for(var t=0;t<e.length;t++,f++)u.setUint8(f,e.charCodeAt(t))},p=function(e){u.setUint16(f,e,!0),f+=2},v=function(e){u.setUint32(f,e,!0),f+=4};if(h("RIFF"),v(36+c),h("WAVE"),h("fmt "),v(16),p(1),p(1),v(o),v(o*(s/8)),p(s/8),p(s),h("data"),v(c),8==s)for(var d=0;d<i;d++,f++){var g=128+(e[d]>>8);u.setInt8(f,g,!0)}else for(d=0;d<i;d++,f+=2)u.setInt16(f,e[d],!0);t(new Blob([u.buffer],{type:"audio/wav"}))}})()},cc13:function(e,t,n){"use strict";var r=n("9147"),a=n.n(r);a.a},d784:function(e,t,n){"use strict";n("ac1f");var r=n("6eeb"),a=n("d039"),i=n("b622"),o=n("9263"),s=n("9112"),c=i("species"),l=!a((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),u=function(){return"$0"==="a".replace(/./,"$0")}(),f=i("replace"),h=function(){return!!/./[f]&&""===/./[f]("a","$0")}(),p=!a((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));e.exports=function(e,t,n,f){var v=i(e),d=!a((function(){var t={};return t[v]=function(){return 7},7!=""[e](t)})),g=d&&!a((function(){var t=!1,n=/a/;return"split"===e&&(n={},n.constructor={},n.constructor[c]=function(){return n},n.flags="",n[v]=/./[v]),n.exec=function(){return t=!0,null},n[v](""),!t}));if(!d||!g||"replace"===e&&(!l||!u||h)||"split"===e&&!p){var m=/./[v],w=n(v,""[e],(function(e,t,n,r,a){return t.exec===o?d&&!a?{done:!0,value:m.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}),{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:h}),y=w[0],b=w[1];r(String.prototype,e,y),r(RegExp.prototype,v,2==t?function(e,t){return b.call(e,this,t)}:function(e){return b.call(e,this)})}f&&s(RegExp.prototype[v],"sham",!0)}},e2cc1:function(e,t,n){var r;(function(a){a(window),r=function(){return Recorder}.call(t,n,t,e),void 0===r||(e.exports=r),e.exports&&(e.exports=Recorder)})((function(e){"use strict";var t="2020-1-8 10:53:14",n=function(){},r=function(e){return new c(e)};r.IsOpen=function(){var e=r.Stream;if(e){var t=e.getTracks&&e.getTracks()||e.audioTracks||[],n=t[0];if(n){var a=n.readyState;return"live"==a||a==n.LIVE}}return!1},r.BufferSize=4096,r.Destroy=function(){for(var e in console.log("Recorder Destroy"),a)a[e]()};var a={};r.BindDestroy=function(e,t){a[e]=t},r.Support=function(){var t=e.AudioContext;if(t||(t=e.webkitAudioContext),!t)return!1;var n=navigator.mediaDevices||{};return n.getUserMedia||(n=navigator,n.getUserMedia||(n.getUserMedia=n.webkitGetUserMedia||n.mozGetUserMedia||n.msGetUserMedia)),!!n.getUserMedia&&(r.Scope=n,r.Ctx&&"closed"!=r.Ctx.state||(r.Ctx=new t,r.BindDestroy("Ctx",(function(){var e=r.Ctx;e&&e.close&&e.close()}))),!0)};var i=function(){var e=r.Ctx,t=r.Stream,n=t._m=e.createMediaStreamSource(t),a=t._p=(e.createScriptProcessor||e.createJavaScriptNode).call(e,r.BufferSize,1,1);n.connect(a),a.connect(e.destination);var i=t._call;a.onaudioprocess=function(e){for(var t in i){for(var n=e.inputBuffer.getChannelData(0),r=n.length,a=new Int16Array(r),o=0,s=0;s<r;s++){var c=Math.max(-1,Math.min(1,n[s]));c=c<0?32768*c:32767*c,a[s]=c,o+=Math.abs(c)}for(var l in i)i[l](a,o);return}}},o=function(){var e=r.Stream;e._m&&(e._m.disconnect(),e._p.disconnect(),e._p.onaudioprocess=e._p=e._m=null)};r.SampleData=function(e,t,n,r,a){r||(r={});var i=r.index||0,o=r.offset||0,s=r.frameNext||[];a||(a={});var c=a.frameSize||1;a.frameType&&(c="mp3"==a.frameType?1152:1);for(var l=0,u=i;u<e.length;u++)l+=e[u].length;l=Math.max(0,l-Math.floor(o));var f=t/n;f>1?l=Math.floor(l/f):(f=1,n=t),l+=s.length;var h=new Int16Array(l),p=0;for(u=0;u<s.length;u++)h[p]=s[u],p++;for(var v=e.length;i<v;i++){var d=e[i],g=(u=o,d.length);while(u<g){var m=Math.floor(u),w=Math.ceil(u),y=u-m;h[p]=d[m]+(d[w]-d[m])*y,p++,u+=f}o=u-g}s=null;var b=h.length%c;if(b>0){var S=2*(h.length-b);s=new Int16Array(h.buffer.slice(S)),h=new Int16Array(h.buffer.slice(0,S))}return{index:i,offset:o,frameNext:s,sampleRate:n,data:h}},r.PowerLevel=function(e,t){var n,r=e/t||0;return n=r<1251?Math.round(r/1250*10):Math.round(Math.min(100,Math.max(0,100*(1+Math.log(r/1e4)/Math.log(10))))),n};var s=0;function c(e){this.id=++s,r.Traffic&&r.Traffic();var t={type:"mp3",bitRate:16,sampleRate:16e3,onProcess:n};for(var a in e)t[a]=e[a];this.set=t,this._S=9}r.Sync={O:9,C:9},r.prototype=c.prototype={open:function(t,a){var o=this;t=t||n,a=a||n;var s=function(){t(),o._SO=0},c=function(t,n){/Permission|Allow/i.test(t)?a("用户拒绝了录音权限",!0):!1===e.isSecureContext?a("无权录音(需https)"):/Found/i.test(t)?a(n+"，无可用麦克风"):a(n)},l=r.Sync,u=++l.O,f=l.C;o._O=o._O_=u,o._SO=o._S;var h=function(){if(f!=l.C||!o._O){var e="open被取消";return u==l.O?o.close():e="open被中断",a(e),!0}};if(r.IsOpen())s();else if(r.Support()){var p=function(e){r.Stream=e,e._call={},h()||setTimeout((function(){h()||(r.IsOpen()?(i(),s()):a("录音功能无效：无音频流"))}),100)},v=function(e){var t=e.name||e.message||e.code+":"+e;console.error(e),c(t,"无法录音："+t)},d=r.Scope.getUserMedia({audio:!0},p,v);d&&d.then&&d.then(p)[t&&"catch"](v)}else c("","此浏览器不支持录音")},close:function(e){e=e||n;var t=this;t._stop();var a=r.Sync;if(t._O=0,t._O_!=a.O)return console.warn("close被忽略"),void e();a.C++;var i=r.Stream;if(i){o();for(var s=i.getTracks&&i.getTracks()||i.audioTracks||[],c=0;c<s.length;c++){var l=s[c];l.stop&&l.stop()}i.stop&&i.stop()}r.Stream=0,e()},mock:function(e,t){var n=this;return n._stop(),n.isMock=1,n.buffers=[e],n.recSize=e.length,n.srcSampleRate=t,n},envStart:function(e,t){var n=this,r=n.set;if(n.isMock=e?1:0,n.buffers=[],n.recSize=0,n.envInLast=0,n.envInFirst=0,n.envInFix=0,n.envInFixTs=[],r.sampleRate=Math.min(t,r.sampleRate),n.srcSampleRate=t,n.engineCtx=0,n[r.type+"_start"]){var a=n.engineCtx=n[r.type+"_start"](r);a&&(a.pcmDatas=[],a.pcmSize=0)}},envResume:function(){this.envInFixTs=[]},envIn:function(e,t){var n=this,a=n.set,i=n.engineCtx,o=n.srcSampleRate,s=e.length,c=r.PowerLevel(t,s),l=n.buffers,u=l.length;l.push(e);var f=Date.now(),h=Math.round(s/o*1e3);n.envInLast=f,1==n.buffers.length&&(n.envInFirst=f-h);var p=n.envInFixTs;p.splice(0,0,{t:f,d:h});for(var v=f,d=0,g=0;g<p.length;g++){var m=p[g];if(f-m.t>3e3){p.length=g;break}v=m.t,d+=m.d}var w=p[1],y=f-v,b=y-d;if(b>y/3&&(w&&y>1e3||p.length>=6)){var S=f-w.t-h;if(S>h/5){var x=!a.disableEnvInFix;if(console.warn("["+f+"]"+(x?"":"未")+"补偿"+S+"ms"),n.envInFix+=S,x){var R=new Int16Array(S*o/1e3);s+=R.length,l.push(R)}}}var k=n.recSize,_=s,I=k+_;if(n.recSize=I,i){var U=r.SampleData(l,o,a.sampleRate,i.chunkInfo);i.chunkInfo=U,k=i.pcmSize,_=U.data.length,I=k+_,i.pcmSize=I,l=i.pcmDatas,u=l.length,l.push(U.data),o=U.sampleRate}var M=Math.round(I/o*1e3),C=l.length,L=function(){for(var e=T?0:-_,t=0,r=u;r<C;r++){var o=l[r];null==o?t=1:(e+=o.length,i&&o.length&&n[a.type+"_encode"](i,o))}t||(i?i.pcmSize+=e:n.recSize+=e)},T=a.onProcess(l,c,M,o,u,L);if(!0===T){var A=0;for(g=u;g<C;g++)null==l[g]?A=1:l[g]=new Int16Array(0);A?console.warn("异步模式下不能清除buffers"):i?i.pcmSize-=_:n.recSize-=_}else L()},start:function(){if(r.IsOpen()){console.log("["+Date.now()+"]Start");var e=this,t=(e.set,r.Ctx);if(e._stop(),e.state=0,e.envStart(0,t.sampleRate),e._SO&&e._SO+1!=e._S)console.warn("start被中断");else{e._SO=0;var n=function(){e.state=1,e.resume()};"suspended"==t.state?t.resume().then((function(){console.log("ctx resume"),n()})):n()}}else console.error("未open")},pause:function(){var e=this;e.state&&(e.state=2,delete r.Stream._call[e.id])},resume:function(){var e=this;e.state&&(e.state=1,e.envResume(),r.Stream._call[e.id]=function(t,n){1==e.state&&e.envIn(t,n)})},_stop:function(e){var t=this,n=t.set;t.isMock||t._S++,t.state&&(t.pause(),t.state=0),!e&&t[n.type+"_stop"]&&(t[n.type+"_stop"](t.engineCtx),t.engineCtx=0)},stop:function(e,t,n){var a,i=this,o=i.set;console.log("["+Date.now()+"]Stop "+(i.envInLast?i.envInLast-i.envInFirst+"ms 补"+i.envInFix+"ms":"-"));var s=function(){i._stop(),n&&i.close()},c=function(e){t&&t(e),s()},l=function(t,n){console.log("["+Date.now()+"]结束 编码"+(Date.now()-a)+"ms 音频"+n+"ms/"+t.size+"b"),t.size<Math.max(100,n/2)?c("生成的"+o.type+"无效"):(e&&e(t,n),s())};if(!i.isMock){if(!i.state)return void c("未开始录音");i._stop(!0)}var u=i.recSize;if(u)if(i.buffers[0])if(i[o.type]){var f=i.engineCtx;if(i[o.type+"_complete"]&&f){f.pcmDatas;var h=Math.round(f.pcmSize/o.sampleRate*1e3);return a=Date.now(),void i[o.type+"_complete"](f,(function(e){l(e,h)}),c)}a=Date.now();var p=r.SampleData(i.buffers,i.srcSampleRate,o.sampleRate);o.sampleRate=p.sampleRate;var v=p.data;h=Math.round(v.length/o.sampleRate*1e3);console.log("采样"+u+"->"+v.length+" 花:"+(Date.now()-a)+"ms"),setTimeout((function(){a=Date.now(),i[o.type](v,(function(e){l(e,h)}),(function(e){c(e)}))}))}else c("未加载"+o.type+"编码器");else c("音频被释放");else c("未采集到录音")}},e.Recorder&&e.Recorder.Destroy(),e.Recorder=r,r.LM=t,r.TrafficImgUrl="//ia.51.la/go1?id=20469973&pvFlag=1",r.Traffic=function(){var e=r.TrafficImgUrl;if(e){var t=r.Traffic,n=location.href.replace(/#.*/,"");if(!t[n]){t[n]=1;var a=new Image;a.src=e,console.log("Traffic Analysis Image: Recorder.TrafficImgUrl="+e)}}}}))},f53d:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"c-ars"}},[e._m(0),n("button",{attrs:{id:"microphone"},on:{touchstart:function(t){return t.preventDefault(),e.startRecorder(t)},touchend:e.endRecorder,mousedown:function(t){return t.preventDefault(),e.startRecorder(t)},mouseup:function(t){return t.preventDefault(),e.endRecorder(t)}}},[e._v("点这个这个")])])},a=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"info"},[n("p",[e._v("请确保已打开显示端。")]),n("p",[e._v("您可以和小助手闲聊，也可以命令它播报行程、播报天气、讲笑话、跳舞等，更多技能等您发掘哦~")]),n("p",[e._v("长按下方按钮录音，小助手将会在显示端回应您的呼唤。")])])}],i=(n("99af"),n("d3b7"),n("ac1f"),n("3ca3"),n("5319"),n("ddb0"),n("2b3d"),n("96cf"),n("1da1")),o=n("e2cc1"),s=n.n(o),c=(n("bfc9"),n("604a"),n("4107"),{data:function(){return{userId:"",client_id:"lOQ5dD9hdxO4fYSpZC5ag9k7",client_secret:"cEfW9QHZsnD0wivPHqwU6FDELSG4WjUu",baiduToken:null,rec:null,recBlob:null,dialogInt:null,websock:null,wsuri:"ws://localhost:1209/websocket/"}},mounted:function(){this.userId=window.sessionStorage.getItem("userId"),this.getBaiduToken(),this.initWebSocket()},destroyed:function(){this.recClose()},methods:{getBaiduToken:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.post("/getBaidu/oauth/2.0/token?grant_type=client_credentials&client_id=".concat(this.client_id,"&client_secret=").concat(this.client_secret));case 2:t=e.sent,n=t.data,this.baiduToken=n.access_token;case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),upload:function(){var e=this,t=new FileReader;t.onloadend=Object(i["a"])(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.$http.post("/vop.baidu.com/pro_api",{format:"wav",rate:16e3,dev_pid:80001,channel:1,token:e.baiduToken,cuid:"baidu_workshop",len:e.recBlob.size,speech:(/.+;\s*base64\s*,\s*(.+)$/i.exec(t.result)||[])[1]});case 2:r=n.sent,a=r.data,window.console.log(a),"0"==a.err_no?e.websocketsend(a.result):(e.$toast.fail("没听清，麻烦再说一次呢~"),e.websocketsend("[cant Recognition]"));case 6:case"end":return n.stop()}}),n)}))),t.readAsDataURL(this.recBlob)},startRecorder:function(){this.recStart()},endRecorder:function(){this.recStop()},recOpen:function(){this.rec=null,this.recBlob=null;var e=this,t=s()({type:"wav",sampleRate:16e3,bitRate:16,onProcess:function(t,n,r,a){document.querySelector(".recpowerx").style.width=n+"%",document.querySelector(".recpowert").innerText=r+" / "+n,e.wave.input(t[t.length-1],n,a)}});this.createDelayDialog(),t.open((function(){e.dialogCancel(),e.rec=t,e.wave=s.a.FrequencyHistogramView({elem:".recwave"}),e.reclog("已打开录音，可以点击录制开始录音了",2)}),(function(t,n){e.dialogCancel(),e.reclog((n?"UserNotAllow，":"")+"打开录音失败："+t,1)})),window.waitDialogClick=function(){e.dialogCancel(),e.reclog("打开失败：权限请求被忽略，<span style='color:#f00'>用户主动点击的弹窗</span>",1)}},recClose:function(){this.rec?(this.rec.close(),this.reclog("已关闭")):this.reclog("未打开录音",1)},recStart:function(){this.rec||this.recOpen(),this.rec&&s.a.IsOpen()?(this.recBlob=null,this.rec.start(),this.reclog("已开始录音...")):this.reclog("未打开录音",1)},recStop:function(){if(this.rec&&s.a.IsOpen()){var e=this;this.rec.stop((function(t,n){window.console.log(t,(window.URL||window.webkitURL).createObjectURL(t),"时长:"+n+"ms"),e.recBlob=t,e.upload(),e.reclog("已录制wav："+n+"ms "+t.size+"字节，可以点击播放、上传了",2)}),(function(t){e.reclog("录音失败:"+t,1)}))}else this.reclog("未打开录音",1)},recPlay:function(){if(this.recBlob){var e=("a"+Math.random()).replace(".","");this.reclog('播放中: <span class="'+e+'"></span>');var t=document.createElement("audio");t.controls=!0,document.querySelector("."+e).appendChild(t),t.src=(window.URL||window.webkitURL).createObjectURL(this.recBlob),t.play(),setTimeout((function(){(window.URL||window.webkitURL).revokeObjectURL(t.src)}),5e3)}else this.reclog("请先录音，然后停止后再播放",1)},showDialog:function(){if(/mobile/i.test(navigator.userAgent)){this.dialogCancel();var e=document.createElement("div");document.body.appendChild(e),e.innerHTML='<div class="waitDialog" style="z-index:99999;width:100%;height:100%;top:0;left:0;position:fixed;background:rgba(0,0,0,0.3);"><div style="display:flex;height:100%;align-items:center;"><div style="flex:1;"></div><div style="width:240px;background:#fff;padding:15px 20px;border-radius: 10px;"><div style="padding-bottom:10px;">录音功能需要麦克风权限，请允许；如果未看到任何请求，请点击忽略~</div><div style="text-align:center;"><a onclick="waitDialogClick()" style="color:#0B1">忽略</a></div></div><div style="flex:1;"></div></div></div>'}},createDelayDialog:function(){var e=this;this.dialogInt=setTimeout((function(){e.showDialog()}),8e3)},dialogCancel:function(){clearTimeout(this.dialogInt);for(var e=document.querySelectorAll(".waitDialog"),t=0;t<e.length;t++)e[t].parentNode.removeChild(e[t])},reclog:function(e,t){var n=new Date,r=("0"+n.getHours()).substr(-2)+":"+("0"+n.getMinutes()).substr(-2)+":"+("0"+n.getSeconds()).substr(-2);window.console.log((t?1==t?"error":2==t?"":t:"")+"["+r+"]"+e)},initWebSocket:function(){var e=this.wsuri;this.websock=new WebSocket(e+this.userId),this.websock.onmessage=this.websocketonmessage,this.websock.onopen=this.websocketonopen,this.websock.onerror=this.websocketonerror,this.websock.onclose=this.websocketclose},websocketonopen:function(){var e={to:"show"+this.userId,text:"[control]opened"};this.websocketsend(JSON.stringify(e))},websocketonerror:function(){this.initWebSocket()},websocketonmessage:function(e){window.console.log(e)},websocketsend:function(e){this.websock.send(e)},websocketclose:function(e){window.console.log("断开连接",e)}}}),l=c,u=(n("cc13"),n("2877")),f=Object(u["a"])(l,r,a,!1,null,"4bf0fbc9",null);t["default"]=f.exports}}]);
//# sourceMappingURL=chunk-322d8dd0.f3eb4813.js.map